import{r as f,j as e,O as V,H as B,C as S,l as $,B as W}from"./index-Bj6dzIfW.js";import{a as M,f as b,c as R}from"./formatters-CRpfK2cP.js";import{T as q}from"./Tabs-Cbv8I5kE.js";import{P as K}from"./percent-CnuhV3za.js";import{D as k}from"./dollar-sign-BV9i19sS.js";import{R as X,C as E,X as F,Y as H,T as Y,L as G,B as N}from"./generateCategoricalChart-D31o5p1D.js";import{B as O}from"./BarChart-CrXPEoIR.js";import{P as _}from"./piggy-bank-C0Hhdqn8.js";import{I as J}from"./info-Cc8S7wC6.js";function le(){const[P,D]=f.useState("dsr"),[n,z]=f.useState({propertyPrice:1e5,annualIncome:6e3,existingLoanPayment:0,loanAmount:5e4,loanTerm:30,interestRate:4.5,repaymentType:"equalPrincipalInterest",jeonseDeposit:3e4,jeonseRate:3.5}),d=f.useCallback((a,t)=>{z(s=>({...s,[a]:Number(t)||0}))},[]),i=f.useMemo(()=>{const{propertyPrice:a,annualIncome:t,existingLoanPayment:s,loanAmount:r,loanTerm:l,interestRate:c}=n,o=c/100/12,y=l*12,g=r*1e4*(o*Math.pow(1+o,y))/(Math.pow(1+o,y)-1),x=g*12,h=t>0?(x+s*1e4*12)/(t*1e4)*100:0,u=a>0?r/a*100:0,p=t>0?x/12*12/(t*1e4)*100:0,j=t>0?Math.floor((t*1e4*.4-s*1e4*12)/x*r):0,I=Math.floor(a*.7);return{dsr:h,ltv:u,dti:p,monthlyPayment:g||0,maxLoanByDSR:j,maxLoanByLTV:I,loanableMax:Math.min(j,I)}},[n]),T=f.useMemo(()=>{const{loanAmount:a,loanTerm:t,interestRate:s,repaymentType:r}=n,l=a*1e4,c=s/100/12,o=Math.min(t*12,360),y=[];let g=l,x=0;for(let h=1;h<=o;h++){let u,p,j;r==="equalPrincipal"?(u=l/o,p=g*c,j=u+p):(j=l*(c*Math.pow(1+c,o))/(Math.pow(1+c,o)-1),p=g*c,u=j-p),x+=p,g-=u,(h%12===0||h<=12)&&y.push({month:h,year:Math.ceil(h/12),monthlyPayment:j,principalPayment:u,interestPayment:p,remainingPrincipal:Math.max(0,g),totalInterest:x})}return{schedule:y,totalInterest:x,totalPayment:l+x}},[n]),L=[{bank:"KB국민은행",fixedRate:3.8,variableRate:3.4,type:"주담대"},{bank:"신한은행",fixedRate:3.9,variableRate:3.5,type:"주담대"},{bank:"하나은행",fixedRate:3.7,variableRate:3.3,type:"주담대"},{bank:"우리은행",fixedRate:4,variableRate:3.6,type:"주담대"},{bank:"농협은행",fixedRate:3.6,variableRate:3.2,type:"주담대"},{bank:"KB국민은행",fixedRate:3.4,variableRate:3,type:"전세대출"},{bank:"신한은행",fixedRate:3.5,variableRate:3.1,type:"전세대출"},{bank:"하나은행",fixedRate:3.3,variableRate:2.9,type:"전세대출"}],C=f.useMemo(()=>{const{jeonseDeposit:a,jeonseRate:t}=n,s=Math.floor(a*.8),r=s*1e4*(t/100)/12;return{maxLoan:s,monthlyInterest:r}},[n]),A=f.useMemo(()=>T.schedule.filter((a,t)=>t%12===0).map(a=>({year:`${a.year}년차`,principal:Math.round(a.principalPayment/1e4),interest:Math.round(a.interestPayment/1e4),remaining:Math.round(a.remainingPrincipal/1e4)})),[T]),w=[{id:"dsr",label:"DSR/LTV/DTI 계산",icon:e.jsx(S,{size:16})},{id:"repayment",label:"상환 스케줄",icon:e.jsx($,{size:16})},{id:"compare",label:"은행 금리 비교",icon:e.jsx(W,{size:16})},{id:"jeonse",label:"전세대출",icon:e.jsx(B,{size:16})}],m=({label:a,value:t,onChange:s,suffix:r,min:l=0,step:c=1,info:o})=>e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4},children:[a,o&&e.jsx("span",{title:o,style:{cursor:"help"},children:e.jsx(J,{size:14})})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("input",{type:"number",value:t,onChange:y=>s(y.target.value),min:l,step:c,style:{flex:1}}),r&&e.jsx("span",{style:{color:"var(--color-text-secondary)",whiteSpace:"nowrap"},children:r})]})]}),v=({label:a,value:t,subValue:s,color:r,icon:l})=>e.jsxs("div",{className:"stat-card glass-card",children:[e.jsx("div",{className:"stat-icon",style:{background:r},children:l&&e.jsx(l,{size:24})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("span",{className:"stat-label",children:a}),e.jsx("span",{className:"stat-value",children:t}),s&&e.jsx("span",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:s})]})]});return e.jsxs("div",{className:"page-container",children:[e.jsx("div",{className:"page-header",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"page-title",children:[e.jsx(V,{size:28})," 대출 시뮬레이터"]}),e.jsx("p",{className:"page-subtitle",children:"DSR/LTV/DTI 한도 계산 및 상환 시뮬레이션"})]})}),e.jsx(q,{tabs:w,activeTab:P,onChange:D}),e.jsxs("div",{style:{marginTop:24},children:[P==="dsr"&&e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(300px, 400px) 1fr",gap:24,alignItems:"start"},children:[e.jsxs("div",{className:"glass-card",style:{padding:24},children:[e.jsx("h3",{style:{marginBottom:16},children:"기본 정보 입력"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[e.jsx(m,{label:"주택가격",value:n.propertyPrice,onChange:a=>d("propertyPrice",a),suffix:"만원"}),e.jsx(m,{label:"연소득",value:n.annualIncome,onChange:a=>d("annualIncome",a),suffix:"만원",info:"세전 연소득"}),e.jsx(m,{label:"기존 대출 월상환액",value:n.existingLoanPayment,onChange:a=>d("existingLoanPayment",a),suffix:"만원"}),e.jsx(m,{label:"대출희망금액",value:n.loanAmount,onChange:a=>d("loanAmount",a),suffix:"만원"}),e.jsx(m,{label:"대출기간",value:n.loanTerm,onChange:a=>d("loanTerm",a),suffix:"년",min:1}),e.jsx(m,{label:"금리",value:n.interestRate,onChange:a=>d("interestRate",a),suffix:"%",step:.1})]})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:16,marginBottom:24},children:[e.jsx(v,{label:"DSR",value:M(i.dsr,1,!1),subValue:"규제: 40% 이하",color:i.dsr>40?"linear-gradient(135deg, #ef4444, #f87171)":"linear-gradient(135deg, #10b981, #34d399)",icon:K}),e.jsx(v,{label:"LTV",value:M(i.ltv,1,!1),subValue:"규제: 70% 이하",color:i.ltv>70?"linear-gradient(135deg, #ef4444, #f87171)":"linear-gradient(135deg, #10b981, #34d399)",icon:B}),e.jsx(v,{label:"DTI",value:M(i.dti,1,!1),subValue:"규제: 60% 이하",color:i.dti>60?"linear-gradient(135deg, #ef4444, #f87171)":"linear-gradient(135deg, #10b981, #34d399)",icon:S}),e.jsx(v,{label:"월상환금",value:`${b(Math.round(i.monthlyPayment))}원`,subValue:`연 ${b(Math.round(i.monthlyPayment*12))}원`,color:"linear-gradient(135deg, #6366f1, #8b5cf6)",icon:k})]}),e.jsxs("div",{className:"glass-card",style:{padding:24},children:[e.jsx("h3",{style:{marginBottom:16},children:"예상 대출 한도"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:16},children:[e.jsxs("div",{style:{textAlign:"center",padding:16,background:"var(--color-bg-secondary)",borderRadius:12},children:[e.jsx("div",{style:{fontSize:13,color:"var(--color-text-secondary)",marginBottom:8},children:"DSR 기준"}),e.jsx("div",{style:{fontSize:18,fontWeight:700},children:R(i.maxLoanByDSR)})]}),e.jsxs("div",{style:{textAlign:"center",padding:16,background:"var(--color-bg-secondary)",borderRadius:12},children:[e.jsx("div",{style:{fontSize:13,color:"var(--color-text-secondary)",marginBottom:8},children:"LTV 기준"}),e.jsx("div",{style:{fontSize:18,fontWeight:700},children:R(i.maxLoanByLTV)})]}),e.jsxs("div",{style:{textAlign:"center",padding:16,background:"linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(139, 92, 246, 0.2))",borderRadius:12,border:"2px solid var(--color-primary)"},children:[e.jsx("div",{style:{fontSize:13,color:"var(--color-text-secondary)",marginBottom:8},children:"최대 대출가능"}),e.jsx("div",{style:{fontSize:18,fontWeight:700,color:"var(--color-primary)"},children:R(i.loanableMax)})]})]})]})]})]}),P==="repayment"&&e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:24},children:[e.jsxs("div",{className:"glass-card",style:{padding:24},children:[e.jsx("h3",{style:{marginBottom:16},children:"상환 방식 비교"}),e.jsxs("div",{style:{display:"flex",gap:12,marginBottom:16},children:[e.jsx("button",{className:`btn ${n.repaymentType==="equalPrincipalInterest"?"btn-primary":"btn-secondary"}`,onClick:()=>d("repaymentType","equalPrincipalInterest"),children:"원리금균등"}),e.jsx("button",{className:`btn ${n.repaymentType==="equalPrincipal"?"btn-primary":"btn-secondary"}`,onClick:()=>d("repaymentType","equalPrincipal"),children:"원금균등"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[e.jsxs("div",{style:{padding:16,background:"var(--color-bg-secondary)",borderRadius:12},children:[e.jsx("div",{style:{fontSize:13,color:"var(--color-text-secondary)"},children:"총 상환금액"}),e.jsx("div",{style:{fontSize:20,fontWeight:700},children:R(Math.round(T.totalPayment/1e4))})]}),e.jsxs("div",{style:{padding:16,background:"var(--color-bg-secondary)",borderRadius:12},children:[e.jsx("div",{style:{fontSize:13,color:"var(--color-text-secondary)"},children:"총 이자"}),e.jsx("div",{style:{fontSize:20,fontWeight:700,color:"var(--color-danger)"},children:R(Math.round(T.totalInterest/1e4))})]})]})]}),e.jsxs("div",{className:"glass-card",style:{padding:24},children:[e.jsx("h3",{style:{marginBottom:16},children:"연도별 상환 추이"}),e.jsx(X,{width:"100%",height:250,children:e.jsxs(O,{data:A,children:[e.jsx(E,{strokeDasharray:"3 3"}),e.jsx(F,{dataKey:"year",tick:{fontSize:12}}),e.jsx(H,{tickFormatter:a=>`${a}만`}),e.jsx(Y,{formatter:a=>`${b(a)}만원`}),e.jsx(G,{}),e.jsx(N,{dataKey:"principal",stackId:"a",fill:"#6366f1",name:"원금"}),e.jsx(N,{dataKey:"interest",stackId:"a",fill:"#f59e0b",name:"이자"})]})})]})]}),P==="compare"&&e.jsxs("div",{className:"glass-card",style:{padding:24},children:[e.jsx("h3",{style:{marginBottom:16},children:"은행별 금리 비교 (2025년 1월 기준)"}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"data-table",style:{width:"100%"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"은행"}),e.jsx("th",{children:"상품"}),e.jsx("th",{children:"고정금리"}),e.jsx("th",{children:"변동금리"}),e.jsx("th",{children:"예상 월상환금"})]})}),e.jsx("tbody",{children:L.map((a,t)=>{const s=a.variableRate/100/12,r=n.loanTerm*12,l=n.loanAmount*1e4*(s*Math.pow(1+s,r))/(Math.pow(1+s,r)-1);return e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:600},children:a.bank}),e.jsx("td",{children:a.type}),e.jsxs("td",{children:[a.fixedRate,"%"]}),e.jsxs("td",{style:{color:"var(--color-primary)",fontWeight:600},children:[a.variableRate,"%"]}),e.jsxs("td",{children:[b(Math.round(l)),"원"]})]},t)})})]})})]}),P==="jeonse"&&e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:24},children:[e.jsxs("div",{className:"glass-card",style:{padding:24},children:[e.jsx("h3",{style:{marginBottom:16},children:"전세대출 계산"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[e.jsx(m,{label:"전세보증금",value:n.jeonseDeposit,onChange:a=>d("jeonseDeposit",a),suffix:"만원"}),e.jsx(m,{label:"전세대출 금리",value:n.jeonseRate,onChange:a=>d("jeonseRate",a),suffix:"%",step:.1})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[e.jsx(v,{label:"최대 대출한도 (80%)",value:R(C.maxLoan),color:"linear-gradient(135deg, #6366f1, #8b5cf6)",icon:_}),e.jsx(v,{label:"월 이자",value:`${b(Math.round(C.monthlyInterest))}원`,subValue:`연 ${b(Math.round(C.monthlyInterest*12))}원`,color:"linear-gradient(135deg, #f59e0b, #fbbf24)",icon:k})]})]})]})]})}export{le as default};
//# sourceMappingURL=MortgageSimulator-DCgNgFfn.js.map
