import{r as n,d as z,j as t,B as P,M as k,T as B}from"./index-BLr5D_S7.js";import{S as s}from"./StatCard-CiKfFdU7.js";import{C as w}from"./ChartContainer-CyAQG52t.js";import{b as o,a as u,f as l}from"./formatters-UyfiUF7z.js";import{T}from"./trending-down-CvKwGBxJ.js";import{R as f,C as N,X as V,Y as W,T as p,B as A,c as x,L as D}from"./generateCategoricalChart-BBoIPssj.js";import{B as I}from"./BarChart-Be20UScC.js";import{P as F,a as M}from"./PieChart-BliQoHgS.js";import"./download-Da_Z81Y8.js";import"./PolarAngleAxis-DfAPiAMQ.js";const H=()=>{const[i,y]=n.useState("changeRate"),[c,d]=n.useState(null),a=n.useMemo(()=>z(),[]),g=n.useMemo(()=>[...a].sort((e,r)=>i==="changeRate"?r.changeRate-e.changeRate:i==="avgPrice"?r.avgPrice-e.avgPrice:r.transactionVolume-e.transactionVolume),[a,i]),h=a.filter(e=>["seoul","gyeonggi","incheon"].includes(e.id)),m=a.filter(e=>!["seoul","gyeonggi","incheon"].includes(e.id)),j=h.reduce((e,r)=>e+r.currentIndex,0)/h.length,v=m.reduce((e,r)=>e+r.currentIndex,0)/m.length,b=a.filter(e=>e.changeRate>0).length,R=a.filter(e=>e.changeRate<0).length,C=[{name:"수도권",value:h.reduce((e,r)=>e+r.transactionVolume,0)},{name:"비수도권",value:m.reduce((e,r)=>e+r.transactionVolume,0)}],S=[{id:"changeRate",label:"변화율순"},{id:"avgPrice",label:"가격순"},{id:"transactionVolume",label:"거래량순"}];return t.jsxs("div",{className:"page-container",children:[t.jsxs("div",{className:"grid-stats",style:{marginBottom:24},children:[t.jsx(s,{title:"수도권 평균 지수",value:j.toFixed(1),subtitle:"서울·경기·인천",icon:P,iconColor:"#ef4444",iconBg:"var(--color-danger-light)"}),t.jsx(s,{title:"비수도권 평균 지수",value:v.toFixed(1),subtitle:"기타 지역",icon:k,iconColor:"#3b82f6",iconBg:"#dbeafe"}),t.jsx(s,{title:"상승 지역",value:b,suffix:"개",subtitle:"전월 대비",icon:B,iconColor:"#10b981",iconBg:"#d1fae5"}),t.jsx(s,{title:"하락 지역",value:R,suffix:"개",subtitle:"전월 대비",icon:T,iconColor:"#ef4444",iconBg:"#fee2e2"})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 380px",gap:24},children:[t.jsx(w,{title:"지역별 현황",subtitle:"변화율 기준 정렬",height:600,actions:t.jsx("div",{style:{display:"flex",gap:4},children:S.map(e=>t.jsx("button",{onClick:()=>y(e.id),className:`btn ${i===e.id?"btn-primary":"btn-ghost"}`,style:{padding:"6px 12px",fontSize:"0.75rem"},children:e.label},e.id))}),children:t.jsx(f,{width:"100%",height:"100%",children:t.jsxs(I,{data:g,layout:"vertical",margin:{left:60},children:[t.jsx(N,{strokeDasharray:"3 3",stroke:"var(--color-border)",horizontal:!1}),t.jsx(V,{type:"number",tick:{fontSize:11,fill:"var(--color-text-tertiary)"},tickFormatter:e=>i==="changeRate"?`${e}%`:o(e)}),t.jsx(W,{type:"category",dataKey:"name",tick:{fontSize:12,fill:"var(--color-text-secondary)"},width:50}),t.jsx(p,{contentStyle:{background:"var(--color-bg-secondary)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)"},formatter:e=>i==="changeRate"?[u(e),"변화율"]:i==="avgPrice"?[o(e),"평균가격"]:[l(e),"거래량"]}),t.jsx(A,{dataKey:i,radius:[0,4,4,0],children:g.map((e,r)=>t.jsx(x,{fill:i==="changeRate"?e.changeRate>0?"#10b981":"#ef4444":e.color,opacity:c===e.id?1:.85,cursor:"pointer",onClick:()=>d(e.id)},e.id))})]})})}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[t.jsxs("div",{className:"card",children:[t.jsx("h3",{className:"card-title",style:{marginBottom:16},children:"수도권 vs 비수도권 거래 비중"}),t.jsx("div",{style:{height:200},children:t.jsx(f,{width:"100%",height:"100%",children:t.jsxs(F,{children:[t.jsxs(M,{data:C,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:5,dataKey:"value",children:[t.jsx(x,{fill:"#ef4444"}),t.jsx(x,{fill:"#3b82f6"})]}),t.jsx(p,{contentStyle:{background:"var(--color-bg-secondary)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)"},formatter:e=>[l(e),"거래량"]}),t.jsx(D,{})]})})})]}),t.jsxs("div",{className:"card",children:[t.jsxs("h3",{className:"card-title",style:{marginBottom:16},children:[i==="changeRate"&&"상승률 TOP 5",i==="avgPrice"&&"고가 지역 TOP 5",i==="transactionVolume"&&"거래량 TOP 5"]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:g.slice(0,5).map((e,r)=>t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"10px 12px",background:"var(--color-bg-tertiary)",borderRadius:"var(--radius-md)",cursor:"pointer",transition:"all var(--transition-fast)"},onClick:()=>d(e.id),children:[t.jsx("span",{style:{width:22,height:22,borderRadius:"var(--radius-sm)",background:r===0?"var(--color-warning)":r===1?"#c0c0c0":r===2?"#cd7f32":"var(--color-bg-secondary)",color:r<3?"white":"var(--color-text-tertiary)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:700},children:r+1}),t.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:e.color}}),t.jsx("span",{style:{flex:1,fontWeight:500,fontSize:"0.875rem"},children:e.name}),t.jsxs("span",{style:{fontWeight:600,fontSize:"0.875rem",color:i==="changeRate"?e.changeRate>0?"var(--color-success)":"var(--color-danger)":"var(--color-text-primary)",fontFeatureSettings:"'tnum' 1"},children:[i==="changeRate"&&u(e.changeRate),i==="avgPrice"&&o(e.avgPrice),i==="transactionVolume"&&l(e.transactionVolume)]})]},e.id))})]}),c&&(()=>{const e=a.find(r=>r.id===c);return e?t.jsxs("div",{className:"card",style:{background:"linear-gradient(135deg, var(--color-primary), #7c3aed)",color:"white",border:"none"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[t.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:600},children:e.name}),t.jsx("button",{onClick:()=>d(null),style:{background:"rgba(255,255,255,0.2)",border:"none",padding:"4px 8px",borderRadius:"var(--radius-sm)",color:"white",cursor:"pointer",fontSize:"0.75rem"},children:"닫기"})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[t.jsxs("div",{children:[t.jsx("p",{style:{fontSize:"0.75rem",opacity:.8},children:"현재 지수"}),t.jsx("p",{style:{fontSize:"1.25rem",fontWeight:700},children:e.currentIndex})]}),t.jsxs("div",{children:[t.jsx("p",{style:{fontSize:"0.75rem",opacity:.8},children:"변화율"}),t.jsx("p",{style:{fontSize:"1.25rem",fontWeight:700},children:u(e.changeRate)})]}),t.jsxs("div",{children:[t.jsx("p",{style:{fontSize:"0.75rem",opacity:.8},children:"평균가격"}),t.jsx("p",{style:{fontSize:"1.25rem",fontWeight:700},children:o(e.avgPrice)})]}),t.jsxs("div",{children:[t.jsx("p",{style:{fontSize:"0.75rem",opacity:.8},children:"거래량"}),t.jsx("p",{style:{fontSize:"1.25rem",fontWeight:700},children:l(e.transactionVolume)})]})]})]}):null})()]})]}),t.jsx("style",{children:`
        @media (max-width: 1024px) {
          .page-container > div:last-of-type {
            grid-template-columns: 1fr !important;
          }
        }
      `})]})};export{H as default};
//# sourceMappingURL=RegionalAnalysis-BdU53uEE.js.map
