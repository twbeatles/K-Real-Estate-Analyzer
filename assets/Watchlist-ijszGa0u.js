import{r as n,d as E,j as e,o as z,M,T as A,X as F,i as k}from"./index-BLr5D_S7.js";import{a as J}from"./formatters-UyfiUF7z.js";import{P as S}from"./plus-DNU4gCn3.js";import{C as P}from"./check-DTtEgEOO.js";import{T as $}from"./triangle-alert-DZz4cPZJ.js";import{T as U}from"./trending-down-CvKwGBxJ.js";import{P as X}from"./pen-8kw2QYBi.js";const Y=()=>{const[r,x]=n.useState(()=>{const t=localStorage.getItem("watchlist");return t?JSON.parse(t):[{id:1,region:"seoul",name:"서울",targetPrice:210,alertOnChange:5},{id:2,region:"gyeonggi",name:"경기",targetPrice:180,alertOnChange:5}]}),[I,o]=n.useState(!1),[O,m]=n.useState(null),[i,c]=n.useState({region:"",targetPrice:0,alertOnChange:5}),[d,p]=n.useState({targetPrice:0,alertOnChange:5}),[g,y]=n.useState({isOpen:!1,id:null,name:""}),l=E();n.useEffect(()=>{localStorage.setItem("watchlist",JSON.stringify(r))},[r]);const w=()=>{if(!i.region)return;const t=l.find(a=>a.id===i.region);if(!t)return;const s={id:Date.now(),region:i.region,name:t.name,targetPrice:i.targetPrice||t.currentIndex,alertOnChange:i.alertOnChange||5};x([...r,s]),c({region:"",targetPrice:0,alertOnChange:5}),o(!1)},f=n.useCallback((t,s)=>{x(a=>a.map(h=>h.id===t?{...h,...s}:h)),m(null)},[]),B=n.useCallback(t=>{y({isOpen:!0,id:t.id,name:t.name})},[]),W=n.useCallback(()=>{x(t=>t.filter(s=>s.id!==g.id)),y({isOpen:!1,id:null,name:""})},[g.id]),b=n.useCallback(()=>{y({isOpen:!1,id:null,name:""})},[]),D=n.useCallback(t=>{m(t.id),p({targetPrice:t.targetPrice,alertOnChange:t.alertOnChange})},[]),T=n.useCallback(t=>{f(t,d)},[d,f]),R=n.useCallback(t=>l.find(s=>s.id===t)||null,[l]),v=l.filter(t=>!r.some(s=>s.region===t.id));return e.jsxs("div",{className:"page-container",children:[e.jsx("div",{className:"card",style:{marginBottom:24},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx(z,{size:20,style:{color:"var(--color-primary)"}}),e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"1.125rem",fontWeight:600},children:"관심 지역"}),e.jsx("p",{style:{fontSize:"0.8rem",color:"var(--color-text-tertiary)"},children:"관심 지역의 가격 변동을 모니터링하세요"})]})]}),e.jsxs("button",{className:"btn btn-primary",onClick:()=>o(!0),disabled:v.length===0,children:[e.jsx(S,{size:16}),"지역 추가"]})]})}),r.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx(z,{className:"empty-state-icon"}),e.jsx("h3",{className:"empty-state-title",children:"관심 지역이 없습니다"}),e.jsx("p",{className:"empty-state-desc",children:"관심 있는 지역을 추가하여 가격 변동을 추적하세요"}),e.jsxs("button",{className:"btn btn-primary",onClick:()=>o(!0),children:[e.jsx(S,{size:16}),"지역 추가"]})]}):e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:20},children:r.map(t=>{const s=R(t.region);if(!s)return null;const a=O===t.id,C=s.currentIndex-t.targetPrice>=0,N=Math.abs(s.changeRate)>=t.alertOnChange;return e.jsxs("div",{className:"card",style:{borderTop:`3px solid ${s.color}`,position:"relative"},children:[(C||N)&&e.jsxs("div",{style:{position:"absolute",top:12,right:12,display:"flex",gap:4},children:[C&&e.jsxs("span",{className:"badge badge-success",title:"목표가 도달",children:[e.jsx(P,{size:12})," 목표 도달"]}),N&&e.jsxs("span",{className:"badge badge-warning",title:"큰 변동",children:[e.jsx($,{size:12})," 급변동"]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:16},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:"var(--radius-md)",background:`${s.color}20`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(M,{size:20,style:{color:s.color}})}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:600},children:t.name}),e.jsx("p",{style:{fontSize:"0.8rem",color:"var(--color-text-tertiary)"},children:"주택가격지수"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:16},children:[e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"0.75rem",color:"var(--color-text-tertiary)",marginBottom:4},children:"현재 지수"}),e.jsx("p",{style:{fontSize:"1.5rem",fontWeight:700},children:s.currentIndex.toFixed(1)})]}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"0.75rem",color:"var(--color-text-tertiary)",marginBottom:4},children:"전월 대비"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,color:s.changeRate>=0?"var(--color-success)":"var(--color-danger)"},children:[s.changeRate>=0?e.jsx(A,{size:18}):e.jsx(U,{size:18}),e.jsx("span",{style:{fontSize:"1.25rem",fontWeight:600},children:J(s.changeRate)})]})]})]}),e.jsx("div",{style:{padding:12,background:"var(--color-bg-tertiary)",borderRadius:"var(--radius-md)",marginBottom:12},children:a?e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:"0.75rem",color:"var(--color-text-tertiary)"},children:"목표 지수"}),e.jsx("input",{type:"number",value:d.targetPrice,onChange:u=>p(j=>({...j,targetPrice:Number(u.target.value)})),className:"input",style:{marginTop:4}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:"0.75rem",color:"var(--color-text-tertiary)"},children:"알림 변동폭 (%)"}),e.jsx("input",{type:"number",value:d.alertOnChange,onChange:u=>p(j=>({...j,alertOnChange:Number(u.target.value)})),className:"input",style:{marginTop:4},min:1,max:50})]}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsxs("button",{className:"btn btn-primary",style:{flex:1},onClick:()=>T(t.id),children:[e.jsx(P,{size:14})," 저장"]}),e.jsx("button",{className:"btn btn-secondary",onClick:()=>m(null),children:e.jsx(F,{size:14})})]})]}):e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"0.75rem",color:"var(--color-text-tertiary)"},children:"목표 지수"}),e.jsx("p",{style:{fontWeight:600},children:t.targetPrice})]}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"0.75rem",color:"var(--color-text-tertiary)"},children:"알림 변동폭"}),e.jsxs("p",{style:{fontWeight:600},children:["±",t.alertOnChange,"%"]})]}),e.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>D(t),children:e.jsx(X,{size:16})})]})}),e.jsx("div",{style:{display:"flex",gap:8},children:e.jsxs("button",{className:"btn btn-danger btn-ghost",style:{flex:1},onClick:()=>B(t),children:[e.jsx(k,{size:14}),"삭제"]})})]},t.id)})}),I&&e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},children:e.jsxs("div",{className:"card",style:{width:400,maxWidth:"90%"},children:[e.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:600,marginBottom:20},children:"관심 지역 추가"}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,marginBottom:8},children:"지역 선택"}),e.jsxs("select",{value:i.region,onChange:t=>{const s=l.find(a=>a.id===t.target.value);c({...i,region:t.target.value,targetPrice:s?s.currentIndex:0})},className:"input select",children:[e.jsx("option",{value:"",children:"선택하세요"}),v.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,marginBottom:8},children:"목표 지수"}),e.jsx("input",{type:"number",value:i.targetPrice,onChange:t=>c({...i,targetPrice:Number(t.target.value)}),className:"input"})]}),e.jsxs("div",{style:{marginBottom:20},children:[e.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,marginBottom:8},children:"알림 변동폭 (%)"}),e.jsx("input",{type:"number",value:i.alertOnChange,onChange:t=>c({...i,alertOnChange:Number(t.target.value)}),className:"input",min:1,max:50})]}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("button",{className:"btn btn-primary",style:{flex:1},onClick:w,disabled:!i.region,children:"추가"}),e.jsx("button",{className:"btn btn-secondary",onClick:()=>o(!1),children:"취소"})]})]})}),g.isOpen&&e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},onClick:b,children:e.jsxs("div",{className:"card",style:{width:400,maxWidth:"90%",textAlign:"center"},onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{style:{padding:"24px 24px 0"},children:[e.jsx("div",{style:{width:60,height:60,borderRadius:"50%",background:"var(--color-danger-light, #fee2e2)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:e.jsx(k,{size:28,style:{color:"var(--color-danger, #ef4444)"}})}),e.jsx("h3",{style:{marginBottom:8},children:"관심 지역 삭제"}),e.jsxs("p",{style:{color:"var(--color-text-secondary)",marginBottom:24},children:[e.jsxs("strong",{children:['"',g.name,'"']}),"을(를) 정말 삭제하시겠습니까?"]})]}),e.jsxs("div",{style:{display:"flex",gap:12,padding:"0 24px 24px",justifyContent:"center"},children:[e.jsx("button",{className:"btn btn-secondary",onClick:b,children:"취소"}),e.jsx("button",{className:"btn",onClick:W,style:{background:"var(--color-danger, #ef4444)",color:"white"},children:"삭제"})]})]})})]})};export{Y as default};
//# sourceMappingURL=Watchlist-ijszGa0u.js.map
