import{c as S,r as o,g as E,d as I,b as N,j as e}from"./index-BLr5D_S7.js";import{f as u}from"./formatters-UyfiUF7z.js";import{C as v}from"./check-DTtEgEOO.js";import{F as W}from"./file-text-Ct9DKHa1.js";import{D as B}from"./download-Da_Z81Y8.js";import{C as T}from"./circle-alert-BPtirvOC.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=S("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=S("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]),V=()=>{const[a,k]=o.useState(["historical"]),[c,w]=o.useState("csv"),[h,m]=o.useState(!1),[z,x]=o.useState(!1),p=o.useMemo(()=>E(),[]),y=o.useMemo(()=>I(),[]),g=o.useMemo(()=>N(),[]),j=[{id:"historical",name:"ì£¼íƒê°€ê²©ì§€ìˆ˜ (ì›”ë³„)",description:"2000~2024ë…„ ì›”ë³„ HPI, CPI ë°ì´í„°",rows:p.length,columns:8},{id:"regional",name:"ì§€ì—­ë³„ í˜„í™©",description:"17ê°œ ì‹œë„ë³„ í˜„ì¬ ì§€ìˆ˜, ë³€í™”ìœ¨, ê±°ë˜ëŸ‰",rows:y.length,columns:6},{id:"transaction",name:"ê±°ë˜ëŸ‰ ì¶”ì´",description:"2015~2024ë…„ ì›”ë³„ ê±°ë˜ëŸ‰ ë°ì´í„°",rows:g.length,columns:4}],C=[{id:"csv",name:"CSV",icon:b,description:"ì—‘ì…€ í˜¸í™˜"},{id:"json",name:"JSON",icon:W,description:"ê°œë°œììš©"},{id:"xlsx",name:"Excel",icon:b,description:"ì—‘ì…€ íŒŒì¼"}],D=t=>{k(s=>s.includes(t)?s.filter(r=>r!==t):[...s,t])},M=(t,s)=>{const r=s.join(","),i=t.map(l=>s.map(n=>{const d=l[n];return typeof d=="string"&&d.includes(",")?`"${d}"`:d}).join(","));return[r,...i].join(`
`)},R=()=>{m(!0),setTimeout(()=>{a.forEach(t=>{let s,r,i;switch(t){case"historical":s=p,r="housing_price_index";break;case"regional":s=y,r="regional_data";break;case"transaction":s=g,r="transaction_volume";break;default:return}if(c==="csv"){const l=Object.keys(s[0]);i=M(s,l),f(i,`${r}.csv`,"text/csv")}else c==="json"&&(i=JSON.stringify(s,null,2),f(i,`${r}.json`,"application/json"))}),m(!1),x(!0),setTimeout(()=>x(!1),3e3)},1e3)},f=(t,s,r)=>{const i=new Blob([t],{type:r}),l=URL.createObjectURL(i),n=document.createElement("a");n.href=l,n.download=s,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(l)},F=a.reduce((t,s)=>{const r=j.find(i=>i.id===s);return t+(r?r.rows:0)},0);return e.jsxs("div",{className:"page-container",children:[e.jsx("div",{className:"card",style:{marginBottom:24},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx(L,{size:20,style:{color:"var(--color-primary)"}}),e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"1.125rem",fontWeight:600},children:"ë°ì´í„° ë‚´ë³´ë‚´ê¸°"}),e.jsx("p",{style:{fontSize:"0.8rem",color:"var(--color-text-tertiary)"},children:"ë¶„ì„ ë°ì´í„°ë¥¼ ë‹¤ì–‘í•œ í˜•ì‹ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”"})]})]})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 350px",gap:24},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"1rem",fontWeight:600,marginBottom:16},children:"ë°ì´í„°ì…‹ ì„ íƒ"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:j.map(t=>{const s=a.includes(t.id);return e.jsx("div",{onClick:()=>D(t.id),className:"card",style:{cursor:"pointer",border:s?"2px solid var(--color-primary)":"2px solid transparent",background:s?"var(--color-primary-light)":void 0,transition:"all var(--transition-fast)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[e.jsx("div",{style:{width:24,height:24,borderRadius:"var(--radius-sm)",border:`2px solid ${s?"var(--color-primary)":"var(--color-border)"}`,background:s?"var(--color-primary)":"transparent",display:"flex",alignItems:"center",justifyContent:"center",color:"white",flexShrink:0},children:s&&e.jsx(v,{size:14})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h4",{style:{fontSize:"0.95rem",fontWeight:600,marginBottom:4},children:t.name}),e.jsx("p",{style:{fontSize:"0.8rem",color:"var(--color-text-tertiary)"},children:t.description})]}),e.jsxs("div",{style:{textAlign:"right",fontSize:"0.8rem",color:"var(--color-text-secondary)"},children:[e.jsxs("div",{children:[u(t.rows)," í–‰"]}),e.jsxs("div",{children:[t.columns," ì—´"]})]})]})},t.id)})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"card",style:{marginBottom:20},children:[e.jsx("h3",{style:{fontSize:"1rem",fontWeight:600,marginBottom:16},children:"íŒŒì¼ í˜•ì‹"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:C.map(t=>{const s=t.icon,r=c===t.id;return e.jsxs("button",{onClick:()=>w(t.id),className:`btn ${r?"btn-primary":"btn-ghost"}`,style:{justifyContent:"flex-start",padding:"12px 16px",opacity:t.id==="xlsx"?.5:1},disabled:t.id==="xlsx",children:[e.jsx(s,{size:18}),e.jsxs("div",{style:{textAlign:"left",marginLeft:8},children:[e.jsx("div",{style:{fontWeight:600},children:t.name}),e.jsxs("div",{style:{fontSize:"0.75rem",opacity:.8},children:[t.description,t.id==="xlsx"&&" (ì¤€ë¹„ ì¤‘)"]})]})]},t.id)})})]}),e.jsxs("div",{className:"card",style:{marginBottom:20},children:[e.jsx("h3",{style:{fontSize:"1rem",fontWeight:600,marginBottom:16},children:"ë‚´ë³´ë‚´ê¸° ìš”ì•½"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:"var(--color-text-secondary)"},children:"ì„ íƒëœ ë°ì´í„°ì…‹"}),e.jsxs("span",{style:{fontWeight:600},children:[a.length,"ê°œ"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:"var(--color-text-secondary)"},children:"ì´ ë°ì´í„° í–‰"}),e.jsxs("span",{style:{fontWeight:600},children:[u(F),"í–‰"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:"var(--color-text-secondary)"},children:"íŒŒì¼ í˜•ì‹"}),e.jsx("span",{style:{fontWeight:600},children:c.toUpperCase()})]})]})]}),e.jsx("button",{className:"btn btn-primary",style:{width:"100%",padding:"14px",fontSize:"1rem"},onClick:R,disabled:a.length===0||h,children:h?e.jsx(e.Fragment,{children:"ì²˜ë¦¬ ì¤‘..."}):z?e.jsxs(e.Fragment,{children:[e.jsx(v,{size:18})," ë‹¤ìš´ë¡œë“œ ì™„ë£Œ!"]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{size:18})," ë‹¤ìš´ë¡œë“œ"]})}),a.length===0&&e.jsxs("div",{style:{marginTop:12,display:"flex",alignItems:"center",gap:8,padding:12,background:"var(--color-warning-light)",borderRadius:"var(--radius-md)",fontSize:"0.8rem",color:"var(--color-warning)"},children:[e.jsx(T,{size:16}),"í•˜ë‚˜ ì´ìƒì˜ ë°ì´í„°ì…‹ì„ ì„ íƒí•˜ì„¸ìš”"]})]})]}),e.jsx("div",{style:{marginTop:24,padding:16,background:"var(--color-bg-tertiary)",borderRadius:"var(--radius-md)",fontSize:"0.8rem",color:"var(--color-text-tertiary)"},children:"ğŸ’¡ ë‹¤ìš´ë¡œë“œëœ ë°ì´í„°ëŠ” ë¶„ì„, ë¦¬í¬íŠ¸ ì‘ì„±, ì‹œê°í™” ë“±ì— í™œìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í˜„ì¬ ì‹œë®¬ë ˆì´ì…˜ ë°ì´í„°ê°€ ì œê³µë˜ë©°, API ì—°ë™ ì‹œ ì‹¤ì œ ë°ì´í„°ë¡œ ëŒ€ì²´ë©ë‹ˆë‹¤."})]})};export{V as default};
//# sourceMappingURL=DataExport-0O8fD1Jj.js.map
