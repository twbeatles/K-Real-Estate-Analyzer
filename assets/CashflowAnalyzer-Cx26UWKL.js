import{r as i,j as e,T as L,D as X,C as G,i as w}from"./index-BLr5D_S7.js";import{C as B}from"./ChartContainer-CyAQG52t.js";import{S as y}from"./StatCard-CiKfFdU7.js";import{f as h,c as U}from"./formatters-UyfiUF7z.js";import{T as q}from"./trending-down-CvKwGBxJ.js";import{P as H}from"./piggy-bank-D-JHebln.js";import{P as N}from"./plus-DNU4gCn3.js";import{R as M,C as D,X as I,Y as A,T,L as R,b as E,B as F}from"./generateCategoricalChart-BBoIPssj.js";import{B as J}from"./BarChart-Be20UScC.js";import{A as O}from"./AreaChart-DqyKfoLa.js";import{A as K}from"./Area-Uhxf7TQq.js";import"./download-Da_Z81Y8.js";const Q=i.memo(()=>{const[f,g]=i.useState([{id:1,name:"월세 수입",amount:150,type:"monthly"},{id:2,name:"관리비 수익",amount:10,type:"monthly"}]),[d,j]=i.useState([{id:1,name:"대출 이자",amount:80,type:"monthly"},{id:2,name:"관리비",amount:20,type:"monthly"},{id:3,name:"재산세",amount:120,type:"yearly"},{id:4,name:"종합부동산세",amount:0,type:"yearly"},{id:5,name:"수선유지비",amount:50,type:"yearly"},{id:6,name:"공실 손실",amount:15,type:"monthly"}]),[m,W]=i.useState("neutral"),[b,V]=i.useState(10),v={optimistic:{income:1.1,expense:.9,growth:1.03},neutral:{income:1,expense:1,growth:1.02},pessimistic:{income:.85,expense:1.15,growth:1.01}},r=i.useMemo(()=>{const t=v[m],n=f.reduce((o,s)=>{const l=s.type==="monthly"?s.amount:s.amount/12;return o+l*t.income},0),a=d.reduce((o,s)=>{const l=s.type==="monthly"?s.amount:s.amount/12;return o+l*t.expense},0);return{income:Math.round(n),expense:Math.round(a),net:Math.round(n-a)}},[f,d,m]),Y=i.useMemo(()=>{const t=v[m],n=[];let a=0;for(let o=1;o<=b;o++){const s=Math.pow(t.growth,o-1),l=r.income*12*s,c=r.expense*12*s,x=l-c;a+=x,n.push({year:o,income:Math.round(l),expense:Math.round(c),net:Math.round(x),cumulative:Math.round(a)})}return n},[r,b,m]),$=i.useMemo(()=>{const t=[];return["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"].forEach((a,o)=>{var x,S,z;let s=0;o===5&&(s=((x=d.find(p=>p.name==="재산세"))==null?void 0:x.amount)/2||0),o===8&&(s=((S=d.find(p=>p.name==="재산세"))==null?void 0:S.amount)/2||0),o===11&&(s=((z=d.find(p=>p.name==="종합부동산세"))==null?void 0:z.amount)||0);const l=r.income,c=r.expense+s;t.push({month:a,income:l,expense:c,net:l-c})}),t},[r,d]),P=i.useMemo(()=>{let n=0;for(let a=1;a<=50;a++){const o=v[m],s=Math.pow(o.growth,a-1);if(n+=r.net*12*s,n>=3e4)return a}return null},[r,m]),C=i.useCallback(t=>{t==="income"?g(n=>[...n,{id:Date.now(),name:"새 수입",amount:0,type:"monthly"}]):j(n=>[...n,{id:Date.now(),name:"새 지출",amount:0,type:"monthly"}])},[]),k=i.useCallback((t,n)=>{t==="income"?g(a=>a.filter(o=>o.id!==n)):j(a=>a.filter(o=>o.id!==n))},[]),u=i.useCallback((t,n,a,o)=>{(t==="income"?g:j)(l=>l.map(c=>c.id===n?{...c,[a]:a==="amount"?Number(o):o}:c))},[]);return e.jsxs("div",{className:"page-container",children:[e.jsxs("div",{className:"grid-stats",style:{marginBottom:24},children:[e.jsx(y,{title:"월 순수익",value:h(r.net),suffix:"만원",subtitle:"수입 - 지출",icon:r.net>=0?L:q,iconColor:r.net>=0?"#10b981":"#ef4444",iconBg:r.net>=0?"#d1fae5":"#fee2e2"}),e.jsx(y,{title:"연간 순수익",value:h(r.net*12),suffix:"만원",subtitle:"월 순수익 × 12",icon:X,iconColor:"#6366f1",iconBg:"var(--color-primary-light)"}),e.jsx(y,{title:"현금수익률",value:(r.net*12/3e4*100).toFixed(1),suffix:"%",subtitle:"연간 (투자금 3억 기준)",icon:H,iconColor:"#f59e0b",iconBg:"#fef3c7"}),e.jsx(y,{title:"손익분기점",value:P||"50+",suffix:"년",subtitle:"초기투자금 회수",icon:G,iconColor:"#8b5cf6",iconBg:"#ede9fe"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"350px 1fr",gap:24},children:[e.jsxs("div",{children:[e.jsxs("div",{className:"card",style:{marginBottom:16},children:[e.jsx("h3",{style:{fontSize:"0.95rem",fontWeight:600,marginBottom:12},children:"시나리오"}),e.jsx("div",{style:{display:"flex",gap:8},children:["optimistic","neutral","pessimistic"].map(t=>e.jsx("button",{onClick:()=>W(t),className:`btn ${m===t?"btn-primary":"btn-ghost"}`,style:{flex:1,fontSize:"0.8rem"},children:t==="optimistic"?"낙관":t==="neutral"?"중립":"비관"},t))})]}),e.jsxs("div",{className:"card",style:{marginBottom:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[e.jsx("h3",{style:{fontSize:"0.95rem",fontWeight:600,color:"var(--color-success)"},children:"수입 항목"}),e.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>C("income"),children:e.jsx(N,{size:16})})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:f.map(t=>e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx("input",{type:"text",value:t.name,onChange:n=>u("income",t.id,"name",n.target.value),style:{flex:1,fontSize:"0.85rem"}}),e.jsx("input",{type:"number",value:t.amount,onChange:n=>u("income",t.id,"amount",n.target.value),style:{width:80,fontSize:"0.85rem"}}),e.jsxs("select",{value:t.type,onChange:n=>u("income",t.id,"type",n.target.value),style:{fontSize:"0.8rem",padding:"6px"},children:[e.jsx("option",{value:"monthly",children:"월"}),e.jsx("option",{value:"yearly",children:"년"})]}),e.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>k("income",t.id),style:{color:"var(--color-danger)",padding:4},children:e.jsx(w,{size:14})})]},t.id))}),e.jsxs("div",{style:{marginTop:12,padding:"8px 12px",background:"var(--color-success-light)",borderRadius:"var(--radius-sm)",textAlign:"right"},children:[e.jsx("span",{style:{fontSize:"0.8rem",color:"var(--color-text-secondary)"},children:"월 합계: "}),e.jsxs("span",{style:{fontWeight:600,color:"var(--color-success)"},children:[h(r.income),"만원"]})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[e.jsx("h3",{style:{fontSize:"0.95rem",fontWeight:600,color:"var(--color-danger)"},children:"지출 항목"}),e.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>C("expense"),children:e.jsx(N,{size:16})})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:d.map(t=>e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx("input",{type:"text",value:t.name,onChange:n=>u("expense",t.id,"name",n.target.value),style:{flex:1,fontSize:"0.85rem"}}),e.jsx("input",{type:"number",value:t.amount,onChange:n=>u("expense",t.id,"amount",n.target.value),style:{width:80,fontSize:"0.85rem"}}),e.jsxs("select",{value:t.type,onChange:n=>u("expense",t.id,"type",n.target.value),style:{fontSize:"0.8rem",padding:"6px"},children:[e.jsx("option",{value:"monthly",children:"월"}),e.jsx("option",{value:"yearly",children:"년"})]}),e.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>k("expense",t.id),style:{color:"var(--color-danger)",padding:4},children:e.jsx(w,{size:14})})]},t.id))}),e.jsxs("div",{style:{marginTop:12,padding:"8px 12px",background:"var(--color-danger-light)",borderRadius:"var(--radius-sm)",textAlign:"right"},children:[e.jsx("span",{style:{fontSize:"0.8rem",color:"var(--color-text-secondary)"},children:"월 합계: "}),e.jsxs("span",{style:{fontWeight:600,color:"var(--color-danger)"},children:[h(r.expense),"만원"]})]})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:24},children:[e.jsx(B,{title:"월별 현금흐름 (1년)",height:250,children:e.jsx(M,{width:"100%",height:"100%",children:e.jsxs(J,{data:$,children:[e.jsx(D,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),e.jsx(I,{dataKey:"month",tick:{fontSize:11}}),e.jsx(A,{tick:{fontSize:11},tickFormatter:t=>`${t}만`}),e.jsx(T,{contentStyle:{background:"var(--color-bg-secondary)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)"},formatter:t=>[`${h(t)}만원`]}),e.jsx(R,{}),e.jsx(E,{y:0,stroke:"var(--color-text-tertiary)"}),e.jsx(F,{dataKey:"income",name:"수입",fill:"#10b981",radius:[4,4,0,0]}),e.jsx(F,{dataKey:"expense",name:"지출",fill:"#ef4444",radius:[4,4,0,0]})]})})}),e.jsx(B,{title:"연간 누적 현금흐름",height:300,children:e.jsx(M,{width:"100%",height:"100%",children:e.jsxs(O,{data:Y,children:[e.jsx(D,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),e.jsx(I,{dataKey:"year",tick:{fontSize:11},tickFormatter:t=>`${t}년`}),e.jsx(A,{tick:{fontSize:11},tickFormatter:t=>`${(t/1e4).toFixed(1)}억`}),e.jsx(T,{contentStyle:{background:"var(--color-bg-secondary)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)"},formatter:t=>[U(t)]}),e.jsx(R,{}),e.jsx(E,{y:0,stroke:"var(--color-text-tertiary)"}),e.jsx(K,{type:"monotone",dataKey:"cumulative",name:"누적 현금흐름",stroke:"#6366f1",fill:"#6366f120"}),e.jsx(K,{type:"monotone",dataKey:"net",name:"연간 순수익",stroke:"#10b981",fill:"#10b98120"})]})})})]})]}),e.jsx("div",{style:{marginTop:24,padding:16,background:"var(--color-bg-tertiary)",borderRadius:"var(--radius-md)",fontSize:"0.8rem",color:"var(--color-text-tertiary)"},children:"⚠️ 본 분석은 참고용이며, 실제 수익과 다를 수 있습니다. 세금 및 비용은 간소화되어 있으며, 정확한 분석은 전문가와 상담하세요."})]})});Q.displayName="CashflowAnalyzer";export{Q as default};
//# sourceMappingURL=CashflowAnalyzer-Cx26UWKL.js.map
