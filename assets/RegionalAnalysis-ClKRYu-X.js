import{r as l,j as e,d as w,B as P,M as Z,T as W}from"./index-BYBhPLOX.js";import{S as j}from"./StatCard-Bnuh3uI2.js";import{C as B}from"./ChartContainer-CIxEBRRg.js";import{a as L,b as f,f as S}from"./formatters-UyfiUF7z.js";import{T}from"./trending-down-BaR_FbPx.js";import{R as V,C as N,X as D,Y as E,T as $,B as A,c as O}from"./generateCategoricalChart-DhUO3NK-.js";import{B as F}from"./BarChart-CyO7VQN2.js";import"./download-CZ7FYZO4.js";const I={seoul:{path:"M 195 155 L 210 150 L 220 160 L 215 175 L 200 180 L 190 170 Z",center:[205,165],name:"서울"},gyeonggi:{path:"M 150 120 L 200 100 L 250 120 L 260 180 L 230 220 L 180 240 L 130 200 L 140 150 Z M 195 155 L 210 150 L 220 160 L 215 175 L 200 180 L 190 170 Z",center:[195,170],name:"경기",fillRule:"evenodd"},incheon:{path:"M 120 140 L 150 130 L 155 160 L 140 180 L 115 170 Z",center:[135,155],name:"인천"},gangwon:{path:"M 250 80 L 340 60 L 370 120 L 350 200 L 280 220 L 250 180 L 260 120 Z",center:[300,140],name:"강원"},chungbuk:{path:"M 230 200 L 280 190 L 310 230 L 290 280 L 240 290 L 220 250 Z",center:[260,240],name:"충북"},chungnam:{path:"M 120 200 L 180 190 L 220 230 L 200 300 L 140 320 L 100 280 L 90 240 Z",center:[155,260],name:"충남"},sejong:{path:"M 185 230 L 205 225 L 210 245 L 195 255 L 180 245 Z",center:[195,240],name:"세종"},daejeon:{path:"M 195 260 L 220 255 L 225 280 L 205 290 L 190 280 Z",center:[207,272],name:"대전"},jeonbuk:{path:"M 100 300 L 180 290 L 200 340 L 160 400 L 90 380 L 80 340 Z",center:[140,345],name:"전북"},gwangju:{path:"M 115 410 L 140 405 L 145 430 L 125 440 L 110 425 Z",center:[127,420],name:"광주"},jeonnam:{path:"M 50 380 L 110 370 L 150 400 L 170 460 L 130 510 L 60 490 L 40 440 Z",center:[100,440],name:"전남"},gyeongbuk:{path:"M 280 200 L 360 180 L 380 250 L 360 330 L 300 360 L 260 320 L 270 260 Z",center:[320,270],name:"경북"},daegu:{path:"M 295 320 L 325 315 L 330 345 L 310 355 L 290 340 Z",center:[310,335],name:"대구"},ulsan:{path:"M 355 345 L 385 340 L 390 375 L 365 385 L 350 365 Z",center:[370,360],name:"울산"},busan:{path:"M 325 385 L 365 380 L 375 420 L 345 435 L 320 410 Z",center:[345,405],name:"부산"},gyeongnam:{path:"M 200 350 L 280 340 L 320 380 L 300 450 L 220 470 L 170 420 L 180 380 Z",center:[245,400],name:"경남"},jeju:{path:"M 90 540 L 170 530 L 180 570 L 150 590 L 80 580 L 70 555 Z",center:[125,560],name:"제주"}},G=(r,c,d)=>{const o=(r-c)/(d-c);if(o<.5){const n=o*2;return`rgb(${Math.round(59+n*97)}, ${Math.round(130+n*33)}, ${Math.round(246+n*-71)})`}else{const n=(o-.5)*2;return`rgb(${Math.round(156+n*83)}, ${Math.round(163+n*-95)}, ${Math.round(175+n*-107)})`}},K=r=>r>2?"#ef4444":r>.5?"#f97316":r>0?"#84cc16":r===0?"#9ca3af":r>-.5?"#60a5fa":r>-2?"#3b82f6":"#1d4ed8",C=l.memo(({data:r=[],onRegionClick:c,selectedRegion:d,colorBy:o="changeRate"})=>{const[n,g]=l.useState(null),[m,x]=l.useState({x:0,y:0}),u=l.useMemo(()=>{const i={};return r.forEach(a=>{i[a.id]=a}),i},[r]),{minValue:y,maxValue:v}=l.useMemo(()=>{if(r.length===0)return{minValue:0,maxValue:100};const i=r.map(a=>a[o]);return{minValue:Math.min(...i),maxValue:Math.max(...i)}},[r,o]),b=l.useCallback(i=>{const a=u[i];return a?o==="changeRate"?K(a.changeRate):G(a[o],y,v):"#d1d5db"},[u,o,y,v]),R=l.useCallback((i,a)=>{g(i);const h=a.currentTarget.closest("svg").getBoundingClientRect();x({x:a.clientX-h.left,y:a.clientY-h.top})},[]),t=l.useCallback(i=>{const a=i.currentTarget.closest("svg").getBoundingClientRect();x({x:i.clientX-a.left,y:i.clientY-a.top})},[]),s=l.useCallback(()=>{g(null)},[]),p=l.useMemo(()=>n?u[n]:null,[n,u]);return e.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[e.jsxs("svg",{viewBox:"0 0 420 620",style:{width:"100%",height:"100%"},children:[e.jsx("rect",{x:"0",y:"0",width:"420",height:"620",fill:"transparent"}),Object.entries(I).map(([i,a])=>{const h=n===i,M=d===i,z=b(i);return e.jsxs("g",{children:[e.jsx("path",{d:a.path,fill:z,fillRule:a.fillRule||"nonzero",stroke:M?"#6366f1":h?"#4b5563":"#9ca3af",strokeWidth:M?3:h?2:1,style:{cursor:"pointer",transition:"all 0.2s ease",opacity:h||M?1:.85,filter:h?"brightness(1.1)":"none"},onMouseEnter:k=>R(i,k),onMouseMove:t,onMouseLeave:s,onClick:()=>c==null?void 0:c(i)}),e.jsx("text",{x:a.center[0],y:a.center[1],textAnchor:"middle",fontSize:"10",fontWeight:"600",fill:"#1f2937",style:{pointerEvents:"none"},children:a.name})]},i)})]}),p&&e.jsxs("div",{style:{position:"absolute",left:m.x+10,top:m.y-10,background:"var(--color-bg-primary)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",padding:"12px 16px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:100,pointerEvents:"none",minWidth:150},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:8,fontSize:"0.95rem",color:"var(--color-text-primary)"},children:p.name}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:16},children:[e.jsx("span",{style:{color:"var(--color-text-tertiary)",fontSize:"0.8rem"},children:"지수"}),e.jsx("span",{style:{fontWeight:500,fontSize:"0.85rem"},children:p.currentIndex})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:16},children:[e.jsx("span",{style:{color:"var(--color-text-tertiary)",fontSize:"0.8rem"},children:"변화율"}),e.jsx("span",{style:{fontWeight:600,fontSize:"0.85rem",color:p.changeRate>=0?"var(--color-success)":"var(--color-danger)"},children:L(p.changeRate)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:16},children:[e.jsx("span",{style:{color:"var(--color-text-tertiary)",fontSize:"0.8rem"},children:"평균가"}),e.jsx("span",{style:{fontWeight:500,fontSize:"0.85rem"},children:f(p.avgPrice)})]})]})]}),e.jsxs("div",{style:{position:"absolute",bottom:16,right:16,background:"var(--color-bg-primary)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",padding:"12px",fontSize:"0.75rem"},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:8,color:"var(--color-text-secondary)"},children:o==="changeRate"?"변화율":o==="currentIndex"?"지수":"가격"}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:8},children:o==="changeRate"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[e.jsx("div",{style:{width:12,height:12,borderRadius:2,background:"#1d4ed8"}}),e.jsx("span",{children:"하락"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[e.jsx("div",{style:{width:12,height:12,borderRadius:2,background:"#9ca3af"}}),e.jsx("span",{children:"보합"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[e.jsx("div",{style:{width:12,height:12,borderRadius:2,background:"#ef4444"}}),e.jsx("span",{children:"상승"})]})]}):e.jsx("div",{style:{width:100,height:12,borderRadius:2,background:"linear-gradient(to right, #3b82f6, #9ca3af, #ef4444)"}})})]})]})});C.displayName="KoreaMapSVG";const ee=()=>{const[r,c]=l.useState("changeRate"),[d,o]=l.useState(null),n=l.useMemo(()=>w(),[]),g=l.useMemo(()=>[...n].sort((t,s)=>r==="changeRate"?s.changeRate-t.changeRate:r==="avgPrice"?s.avgPrice-t.avgPrice:s.transactionVolume-t.transactionVolume),[n,r]),m=n.filter(t=>["seoul","gyeonggi","incheon"].includes(t.id)),x=n.filter(t=>!["seoul","gyeonggi","incheon"].includes(t.id)),u=m.reduce((t,s)=>t+s.currentIndex,0)/m.length,y=x.reduce((t,s)=>t+s.currentIndex,0)/x.length,v=n.filter(t=>t.changeRate>0).length,b=n.filter(t=>t.changeRate<0).length,R=[{id:"changeRate",label:"변화율순"},{id:"avgPrice",label:"가격순"},{id:"transactionVolume",label:"거래량순"}];return e.jsxs("div",{className:"page-container",children:[e.jsxs("div",{className:"grid-stats",style:{marginBottom:24},children:[e.jsx(j,{title:"수도권 평균 지수",value:u.toFixed(1),subtitle:"서울·경기·인천",icon:P,iconColor:"#ef4444",iconBg:"var(--color-danger-light)"}),e.jsx(j,{title:"비수도권 평균 지수",value:y.toFixed(1),subtitle:"기타 지역",icon:Z,iconColor:"#3b82f6",iconBg:"#dbeafe"}),e.jsx(j,{title:"상승 지역",value:v,suffix:"개",subtitle:"전월 대비",icon:W,iconColor:"#10b981",iconBg:"#d1fae5"}),e.jsx(j,{title:"하락 지역",value:b,suffix:"개",subtitle:"전월 대비",icon:T,iconColor:"#ef4444",iconBg:"#fee2e2"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 420px",gap:24},children:[e.jsx(B,{title:"지역별 현황",subtitle:"변화율 기준 정렬",height:600,actions:e.jsx("div",{style:{display:"flex",gap:4},children:R.map(t=>e.jsx("button",{onClick:()=>c(t.id),className:`btn ${r===t.id?"btn-primary":"btn-ghost"}`,style:{padding:"6px 12px",fontSize:"0.75rem"},children:t.label},t.id))}),children:e.jsx(V,{width:"100%",height:"100%",children:e.jsxs(F,{data:g,layout:"vertical",margin:{left:60},children:[e.jsx(N,{strokeDasharray:"3 3",stroke:"var(--color-border)",horizontal:!1}),e.jsx(D,{type:"number",tick:{fontSize:11,fill:"var(--color-text-tertiary)"},tickFormatter:t=>r==="changeRate"?`${t}%`:f(t)}),e.jsx(E,{type:"category",dataKey:"name",tick:{fontSize:12,fill:"var(--color-text-secondary)"},width:50}),e.jsx($,{contentStyle:{background:"var(--color-bg-secondary)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)"},formatter:t=>r==="changeRate"?[L(t),"변화율"]:r==="avgPrice"?[f(t),"평균가격"]:[S(t),"거래량"]}),e.jsx(A,{dataKey:r,radius:[0,4,4,0],children:g.map((t,s)=>e.jsx(O,{fill:r==="changeRate"?t.changeRate>0?"#10b981":"#ef4444":t.color,opacity:d===t.id?1:.85,cursor:"pointer",onClick:()=>o(t.id)},t.id))})]})})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[e.jsxs("div",{className:"card",style:{height:500,padding:"16px 8px",overflow:"hidden"},children:[e.jsx("h3",{className:"card-title",style:{paddingLeft:8,marginBottom:8},children:"대한민국 부동산 지도"}),e.jsx("div",{style:{flex:1,height:"100%",position:"relative"},children:e.jsx(C,{data:n,onRegionClick:o,selectedRegion:d,colorBy:r})})]}),d&&(()=>{const t=n.find(s=>s.id===d);return t?e.jsxs("div",{className:"card",style:{background:"linear-gradient(135deg, var(--color-primary), #7c3aed)",color:"white",border:"none"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[e.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:600},children:t.name}),e.jsx("button",{onClick:()=>o(null),style:{background:"rgba(255,255,255,0.2)",border:"none",padding:"4px 8px",borderRadius:"var(--radius-sm)",color:"white",cursor:"pointer",fontSize:"0.75rem"},children:"닫기"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"0.75rem",opacity:.8},children:"현재 지수"}),e.jsx("p",{style:{fontSize:"1.25rem",fontWeight:700},children:t.currentIndex})]}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"0.75rem",opacity:.8},children:"변화율"}),e.jsx("p",{style:{fontSize:"1.25rem",fontWeight:700},children:L(t.changeRate)})]}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"0.75rem",opacity:.8},children:"평균가격"}),e.jsx("p",{style:{fontSize:"1.25rem",fontWeight:700},children:f(t.avgPrice)})]}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"0.75rem",opacity:.8},children:"거래량"}),e.jsx("p",{style:{fontSize:"1.25rem",fontWeight:700},children:S(t.transactionVolume)})]})]})]}):null})(),e.jsxs("div",{className:"card",children:[e.jsxs("h3",{className:"card-title",style:{marginBottom:16},children:[r==="changeRate"&&"상승률 TOP 5",r==="avgPrice"&&"고가 지역 TOP 5",r==="transactionVolume"&&"거래량 TOP 5"]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:g.slice(0,5).map((t,s)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"10px 12px",background:"var(--color-bg-tertiary)",borderRadius:"var(--radius-md)",cursor:"pointer",transition:"all var(--transition-fast)"},onClick:()=>o(t.id),children:[e.jsx("span",{style:{width:22,height:22,borderRadius:"var(--radius-sm)",background:s===0?"var(--color-warning)":s===1?"#c0c0c0":s===2?"#cd7f32":"var(--color-bg-secondary)",color:s<3?"white":"var(--color-text-tertiary)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:700},children:s+1}),e.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:t.color}}),e.jsx("span",{style:{flex:1,fontWeight:500,fontSize:"0.875rem"},children:t.name}),e.jsxs("span",{style:{fontWeight:600,fontSize:"0.875rem",color:r==="changeRate"?t.changeRate>0?"var(--color-success)":"var(--color-danger)":"var(--color-text-primary)",fontFeatureSettings:"'tnum' 1"},children:[r==="changeRate"&&L(t.changeRate),r==="avgPrice"&&f(t.avgPrice),r==="transactionVolume"&&S(t.transactionVolume)]})]},t.id))})]})]})]}),e.jsx("style",{children:`
        @media (max-width: 1024px) {
          .page-container > div:last-of-type {
            grid-template-columns: 1fr !important;
          }
        }
      `})]})};export{ee as default};
//# sourceMappingURL=RegionalAnalysis-ClKRYu-X.js.map
