import{r as y,j as e,C as w,T as I}from"./index-DqMozl_p.js";import{C as N}from"./ChartContainer-D74-a6fk.js";import{T as Y}from"./Tabs-BPspD5zl.js";import{c as h,f as k,a as R}from"./formatters-CRpfK2cP.js";import{D as M}from"./dollar-sign-DbEX8Hdy.js";import{R as W,C as G,X as A,Y as D,T as F}from"./generateCategoricalChart-BC51gel4.js";import{L as O}from"./LineChart-BJ3s_fRE.js";import{L as $}from"./Line-yiyprkB7.js";import"./download-qrALO9Ju.js";const Q=()=>{const[B,T]=y.useState("mortgage"),[i,j]=y.useState({price:1e5,downPayment:30,rate:4.5,term:30,type:"equal"}),[n,b]=y.useState({purchasePrice:1e5,currentPrice:12e4,holdingYears:5,monthlyRent:150,expenses:10}),[a,S]=y.useState({salePrice:12e4,jeonsePrice:9e4,expectedGrowth:3,holdingYears:3}),z=[{id:"mortgage",label:"대출 계산기",icon:w},{id:"roi",label:"수익률 분석",icon:I},{id:"gap",label:"갭투자 분석",icon:M}],P=y.useMemo(()=>{const t=i.price*(1-i.downPayment/100)*1e4,r=i.rate/100/12,s=i.term*12;if(i.type==="equal"){const l=t*(r*Math.pow(1+r,s))/(Math.pow(1+r,s)-1),o=l*s,p=o-t,x=[];let u=t;for(let d=1;d<=Math.min(s,360);d++){const v=u*r,C=l-v;u-=C,(d%12===0||d===1)&&x.push({year:Math.ceil(d/12),month:d,payment:l,principal:C,interest:v,balance:Math.max(0,u)})}return{loanAmount:t,monthlyPayment:l,totalPayment:o,totalInterest:p,schedule:x}}else{const l=t/s,o=[];let p=t,x=0,u=0;for(let d=1;d<=s;d++){const v=p*r,C=l+v;p-=l,x+=C,u+=v,(d%12===0||d===1)&&o.push({year:Math.ceil(d/12),month:d,payment:C,principal:l,interest:v,balance:Math.max(0,p)})}return{loanAmount:t,monthlyPayment:o[0].payment,totalPayment:x,totalInterest:u,schedule:o}}},[i]),g=y.useMemo(()=>{const t=(n.currentPrice-n.purchasePrice)*1e4,r=n.monthlyRent*12*n.holdingYears*1e4,s=n.expenses*n.holdingYears*1e4,l=t+r-s,o=l/(n.purchasePrice*1e4)*100,p=o/n.holdingYears,x=n.monthlyRent*12/n.purchasePrice*100;return{capitalGain:t,totalRent:r,netIncome:l,totalROI:o,annualROI:p,rentalYield:x}},[n]),f=y.useMemo(()=>{const t=a.salePrice-a.jeonsePrice,r=t*1e4,s=a.salePrice*Math.pow(1+a.expectedGrowth/100,a.holdingYears),l=(s-a.salePrice)*1e4,o=l/r*100,p=o/a.holdingYears,x=a.salePrice/t;return{gapAmount:t,investmentAmount:r,futurePrice:s,expectedGain:l,roi:o,annualROI:p,leverage:x}},[a]),c=({label:t,value:r,onChange:s,suffix:l,min:o,max:p,step:x=1})=>e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,marginBottom:8,color:"var(--color-text-secondary)"},children:t}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("input",{type:"number",value:r,onChange:u=>s(Number(u.target.value)),min:o,max:p,step:x,className:"input",style:{flex:1}}),l&&e.jsx("span",{style:{fontSize:"0.875rem",color:"var(--color-text-tertiary)",minWidth:40},children:l})]})]}),m=({label:t,value:r,highlight:s=!1})=>e.jsxs("div",{style:{padding:16,background:s?"linear-gradient(135deg, var(--color-primary), #7c3aed)":"var(--color-bg-tertiary)",borderRadius:"var(--radius-md)",color:s?"white":"inherit"},children:[e.jsx("p",{style:{fontSize:"0.75rem",opacity:s?.9:.7,marginBottom:4},children:t}),e.jsx("p",{style:{fontSize:"1.25rem",fontWeight:700,fontFeatureSettings:"'tnum' 1"},children:r})]});return e.jsxs("div",{className:"page-container",children:[e.jsx("div",{style:{marginBottom:24},children:e.jsx(Y,{tabs:z,activeTab:B,onChange:T})}),B==="mortgage"&&e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"400px 1fr",gap:24},children:[e.jsxs("div",{className:"card",children:[e.jsxs("h3",{className:"card-title",style:{marginBottom:20},children:[e.jsx(w,{size:18,style:{marginRight:8}}),"주택담보대출 계산"]}),e.jsx(c,{label:"매매가격",value:i.price,onChange:t=>j(r=>({...r,price:t})),suffix:"만원",min:1e3,step:1e3}),e.jsx(c,{label:"자기자본 비율 (LTV)",value:i.downPayment,onChange:t=>j(r=>({...r,downPayment:t})),suffix:"%",min:0,max:100}),e.jsx(c,{label:"연이율",value:i.rate,onChange:t=>j(r=>({...r,rate:t})),suffix:"%",min:.1,max:20,step:.1}),e.jsx(c,{label:"대출 기간",value:i.term,onChange:t=>j(r=>({...r,term:t})),suffix:"년",min:1,max:40}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,marginBottom:8,color:"var(--color-text-secondary)"},children:"상환 방식"}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("button",{onClick:()=>j(t=>({...t,type:"equal"})),className:`btn ${i.type==="equal"?"btn-primary":"btn-secondary"}`,style:{flex:1},children:"원리금균등"}),e.jsx("button",{onClick:()=>j(t=>({...t,type:"principal"})),className:`btn ${i.type==="principal"?"btn-primary":"btn-secondary"}`,style:{flex:1},children:"원금균등"})]})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:12},children:[e.jsx(m,{label:"대출금액",value:h(P.loanAmount/1e4)}),e.jsx(m,{label:i.type==="equal"?"월 상환액":"첫 달 상환액",value:`${k(Math.round(P.monthlyPayment/1e4))}만원`,highlight:!0}),e.jsx(m,{label:"총 상환액",value:h(Math.round(P.totalPayment/1e4))}),e.jsx(m,{label:"총 이자",value:h(Math.round(P.totalInterest/1e4))})]}),e.jsx(N,{title:"상환 스케줄",subtitle:"연도별 잔액 추이",height:350,children:e.jsx(W,{width:"100%",height:"100%",children:e.jsxs(O,{data:P.schedule,children:[e.jsx(G,{strokeDasharray:"3 3",stroke:"var(--color-border)",vertical:!1}),e.jsx(A,{dataKey:"year",tick:{fontSize:11,fill:"var(--color-text-tertiary)"},tickFormatter:t=>`${t}년`}),e.jsx(D,{tick:{fontSize:11,fill:"var(--color-text-tertiary)"},tickFormatter:t=>`${(t/1e8).toFixed(1)}억`}),e.jsx(F,{contentStyle:{background:"var(--color-bg-secondary)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)"},formatter:t=>[h(Math.round(t/1e4)),""]}),e.jsx($,{type:"monotone",dataKey:"balance",name:"잔액",stroke:"var(--color-primary)",strokeWidth:2.5,dot:!1})]})})})]})]}),B==="roi"&&e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"400px 1fr",gap:24},children:[e.jsxs("div",{className:"card",children:[e.jsxs("h3",{className:"card-title",style:{marginBottom:20},children:[e.jsx(I,{size:18,style:{marginRight:8}}),"투자 수익률 분석"]}),e.jsx(c,{label:"매입가격",value:n.purchasePrice,onChange:t=>b(r=>({...r,purchasePrice:t})),suffix:"만원",min:1e3,step:1e3}),e.jsx(c,{label:"현재가격",value:n.currentPrice,onChange:t=>b(r=>({...r,currentPrice:t})),suffix:"만원",min:1e3,step:1e3}),e.jsx(c,{label:"보유 기간",value:n.holdingYears,onChange:t=>b(r=>({...r,holdingYears:t})),suffix:"년",min:1,max:30}),e.jsx(c,{label:"월 임대료",value:n.monthlyRent,onChange:t=>b(r=>({...r,monthlyRent:t})),suffix:"만원",min:0}),e.jsx(c,{label:"연간 비용",value:n.expenses,onChange:t=>b(r=>({...r,expenses:t})),suffix:"만원",min:0})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12,marginBottom:20},children:[e.jsx(m,{label:"총 수익률",value:R(g.totalROI),highlight:!0}),e.jsx(m,{label:"연평균 수익률",value:R(g.annualROI)}),e.jsx(m,{label:"임대 수익률",value:R(g.rentalYield)})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"card-title",style:{marginBottom:16},children:"수익 분석"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--color-border)"},children:[e.jsx("span",{style:{color:"var(--color-text-secondary)"},children:"시세 차익"}),e.jsx("span",{style:{fontWeight:600,color:g.capitalGain>=0?"var(--color-success)":"var(--color-danger)"},children:h(g.capitalGain/1e4)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--color-border)"},children:[e.jsx("span",{style:{color:"var(--color-text-secondary)"},children:"누적 임대 수입"}),e.jsx("span",{style:{fontWeight:600},children:h(g.totalRent/1e4)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0"},children:[e.jsx("span",{style:{fontWeight:600},children:"순 수익"}),e.jsx("span",{style:{fontWeight:700,fontSize:"1.125rem",color:g.netIncome>=0?"var(--color-success)":"var(--color-danger)"},children:h(g.netIncome/1e4)})]})]})]})]})]}),B==="gap"&&e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"400px 1fr",gap:24},children:[e.jsxs("div",{className:"card",children:[e.jsxs("h3",{className:"card-title",style:{marginBottom:20},children:[e.jsx(M,{size:18,style:{marginRight:8}}),"갭투자 분석"]}),e.jsx(c,{label:"매매가격",value:a.salePrice,onChange:t=>S(r=>({...r,salePrice:t})),suffix:"만원",min:1e3,step:1e3}),e.jsx(c,{label:"전세가격",value:a.jeonsePrice,onChange:t=>S(r=>({...r,jeonsePrice:t})),suffix:"만원",min:1e3,step:1e3}),e.jsx(c,{label:"예상 연간 상승률",value:a.expectedGrowth,onChange:t=>S(r=>({...r,expectedGrowth:t})),suffix:"%",min:-10,max:30,step:.5}),e.jsx(c,{label:"보유 기간",value:a.holdingYears,onChange:t=>S(r=>({...r,holdingYears:t})),suffix:"년",min:1,max:30}),e.jsx("div",{style:{padding:16,background:"var(--color-warning-light)",borderRadius:"var(--radius-md)",fontSize:"0.875rem",color:"var(--color-warning)"},children:"⚠️ 갭투자는 전세가 하락 시 큰 손실 위험이 있습니다."})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:12,marginBottom:20},children:[e.jsx(m,{label:"투자금 (갭)",value:h(f.gapAmount)}),e.jsx(m,{label:"레버리지",value:`${f.leverage.toFixed(1)}배`,highlight:!0}),e.jsx(m,{label:"예상 수익률",value:R(f.roi)}),e.jsx(m,{label:"연평균 수익률",value:R(f.annualROI)})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"card-title",style:{marginBottom:16},children:"투자 분석"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[e.jsxs("div",{style:{padding:"12px 0",borderBottom:"1px solid var(--color-border)"},children:[e.jsx("p",{style:{fontSize:"0.75rem",color:"var(--color-text-tertiary)",marginBottom:4},children:"전세가율"}),e.jsxs("p",{style:{fontWeight:600},children:[(a.jeonsePrice/a.salePrice*100).toFixed(1),"%"]})]}),e.jsxs("div",{style:{padding:"12px 0",borderBottom:"1px solid var(--color-border)"},children:[e.jsx("p",{style:{fontSize:"0.75rem",color:"var(--color-text-tertiary)",marginBottom:4},children:"현재 매매가"}),e.jsx("p",{style:{fontWeight:600},children:h(a.salePrice)})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[e.jsxs("div",{style:{padding:"12px 0",borderBottom:"1px solid var(--color-border)"},children:[e.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--color-text-tertiary)",marginBottom:4},children:[a.holdingYears,"년 후 예상가격"]}),e.jsx("p",{style:{fontWeight:600},children:h(Math.round(f.futurePrice))})]}),e.jsxs("div",{style:{padding:"12px 0",borderBottom:"1px solid var(--color-border)"},children:[e.jsx("p",{style:{fontSize:"0.75rem",color:"var(--color-text-tertiary)",marginBottom:4},children:"예상 시세차익"}),e.jsx("p",{style:{fontWeight:600,color:"var(--color-success)"},children:h(Math.round(f.expectedGain/1e4))})]})]})]})]})]})]}),e.jsx("style",{children:`
        @media (max-width: 1024px) {
          .page-container > div:nth-child(2) {
            grid-template-columns: 1fr !important;
          }
        }
      `})]})};export{Q as default};
//# sourceMappingURL=InvestmentTools-C73fPJkA.js.map
