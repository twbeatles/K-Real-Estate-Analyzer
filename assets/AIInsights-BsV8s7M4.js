import{c as o,r as a,g as M,a as B,w as C,x as k,u as W,j as e,y as N,W as L,R as I,T as H,z as K}from"./index-BYBhPLOX.js";import{f as P}from"./newsService-LmJQZJtI.js";import{K as D}from"./key-b4PMAEDU.js";import{T as y}from"./triangle-alert-BtiQQ0ni.js";import{T as E}from"./trending-down-BaR_FbPx.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=o("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=o("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=o("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=o("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),J=()=>{const[n,x]=a.useState(!1),[d,S]=a.useState("overall"),[r,u]=a.useState(null),[f,c]=a.useState(null),[i,z]=a.useState(()=>localStorage.getItem("openai_key")||""),[v,j]=a.useState(!1),[l,w]=a.useState(!1),p=a.useMemo(()=>{const t=M(),s=B(),h=t[t.length-1],b=t[t.length-2];return{seoulHPI:h.hpiSeoul,nationHPI:h.hpiNation,monthlyChange:(h.hpiSeoul-b.hpiSeoul)/b.hpiSeoul*100,interestRate:s[s.length-1].rate}},[]),A=[{id:"overall",label:"종합 분석"},{id:"seoul",label:"서울 시장"},{id:"interest",label:"금리 영향"},{id:"forecast",label:"향후 전망"}];a.useEffect(()=>{g()},[d]);const g=async()=>{x(!0),c(null);try{let t;if(l&&i)t=await C(i,p,d),t.isAI=!0;else{const s=await P("all").catch(()=>[]);t=await k(p,s),t.isAI=!1}u(t)}catch(t){W.error("분석 생성 실패:",t),c(t.message);const s=await k(p,[]);u(s)}finally{x(!1)}},T=async()=>{if(!i.trim())return;await K(i)?(localStorage.setItem("openai_key",i),w(!0),j(!1),g()):c("유효하지 않은 API 키입니다.")},m=t=>{switch(t){case"positive":return"var(--color-success)";case"negative":return"var(--color-danger)";default:return"var(--color-warning)"}},R=t=>{switch(t){case"positive":return"긍정적";case"negative":return"부정적";default:return"중립적"}};return e.jsxs("div",{className:"page-container",children:[e.jsxs("div",{className:"card",style:{marginBottom:24},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:16},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:"var(--radius-md)",background:"linear-gradient(135deg, #8b5cf6, #ec4899)",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:e.jsx(N,{size:20})}),e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"1.125rem",fontWeight:600},children:"AI 시장 인사이트"}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:4},children:l?e.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--color-success)",display:"flex",alignItems:"center",gap:4},children:[e.jsx(q,{size:12})," GPT-4o 분석"]}):e.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--color-text-tertiary)",display:"flex",alignItems:"center",gap:4},children:[e.jsx(L,{size:12})," 데이터 기반 분석"]})})]})]}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsxs("button",{className:"btn btn-ghost",onClick:()=>j(!v),children:[e.jsx(D,{size:16}),l?"API 설정됨":"AI 활성화"]}),e.jsxs("button",{className:"btn btn-primary",onClick:g,disabled:n,children:[e.jsx(I,{size:16,className:n?"spin":""}),n?"분석 중...":"새 분석"]})]})]}),v&&e.jsxs("div",{style:{marginTop:16,padding:16,background:"var(--color-bg-tertiary)",borderRadius:"var(--radius-md)"},children:[e.jsx("p",{style:{fontSize:"0.8rem",color:"var(--color-text-secondary)",marginBottom:12},children:"OpenAI API 키를 입력하면 GPT-4o 기반 심층 분석이 제공됩니다."}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("input",{type:"password",value:i,onChange:t=>z(t.target.value),placeholder:"sk-...",className:"input",style:{flex:1}}),e.jsx("button",{className:"btn btn-primary",onClick:T,children:"저장"})]}),e.jsxs("p",{style:{fontSize:"0.7rem",color:"var(--color-text-tertiary)",marginTop:8},children:["API 키는 로컬에만 저장됩니다. ",e.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",style:{color:"var(--color-primary)"},children:"키 발급 →"})]})]})]}),e.jsx("div",{style:{display:"flex",gap:8,marginBottom:24,flexWrap:"wrap"},children:A.map(t=>e.jsx("button",{onClick:()=>S(t.id),className:`btn ${d===t.id?"btn-primary":"btn-ghost"}`,style:{padding:"8px 16px"},children:t.label},t.id))}),f&&e.jsxs("div",{style:{marginBottom:20,padding:16,background:"var(--color-danger-light)",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",gap:12},children:[e.jsx(y,{size:18,style:{color:"var(--color-danger)"}}),e.jsx("div",{style:{flex:1},children:e.jsx("p",{style:{fontSize:"0.875rem",fontWeight:500,color:"var(--color-danger)"},children:f})})]}),n&&e.jsxs("div",{className:"card",style:{padding:60,textAlign:"center"},children:[e.jsx(I,{size:40,style:{color:"var(--color-primary)",animation:"spin 1s linear infinite",marginBottom:16}}),e.jsx("h3",{style:{fontWeight:600,marginBottom:8},children:"분석 생성 중..."}),e.jsx("p",{style:{color:"var(--color-text-tertiary)"},children:l?"AI가 시장 데이터를 분석하고 있습니다":"데이터를 기반으로 분석을 생성하고 있습니다"})]}),!n&&r&&e.jsxs("div",{className:"card",style:{marginBottom:24},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:16},children:[e.jsxs("span",{style:{padding:"4px 12px",borderRadius:"var(--radius-full)",background:`${m(r.sentiment)}20`,color:m(r.sentiment),fontSize:"0.8rem",fontWeight:600,display:"flex",alignItems:"center",gap:4},children:[r.sentiment==="positive"?e.jsx(V,{size:14}):r.sentiment==="negative"?e.jsx(U,{size:14}):e.jsx(y,{size:14}),R(r.sentiment)," 전망"]}),e.jsx("span",{style:{fontSize:"0.8rem",color:"var(--color-text-tertiary)"},children:r.generatedAt?new Date(r.generatedAt).toLocaleString("ko-KR"):"방금 전"}),r.isAI&&e.jsx("span",{style:{padding:"2px 8px",borderRadius:"var(--radius-full)",background:"linear-gradient(135deg, #8b5cf6, #ec4899)",color:"white",fontSize:"0.7rem",fontWeight:600},children:"AI 생성"})]}),e.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:700,marginBottom:16,lineHeight:1.4},children:r.title}),e.jsx("p",{style:{fontSize:"1rem",color:"var(--color-text-secondary)",lineHeight:1.8,marginBottom:24,padding:20,background:"var(--color-bg-tertiary)",borderRadius:"var(--radius-md)",borderLeft:`4px solid ${m(r.sentiment)}`},children:r.summary}),e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("h4",{style:{fontSize:"1rem",fontWeight:600,marginBottom:12,display:"flex",alignItems:"center",gap:8},children:[e.jsx(G,{size:18,style:{color:"var(--color-warning)"}}),"핵심 포인트"]}),e.jsx("ul",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:8,padding:0,margin:0,listStyle:"none"},children:(r.keyPoints||[]).map((t,s)=>e.jsxs("li",{style:{padding:"12px 16px",background:"var(--color-bg-tertiary)",borderRadius:"var(--radius-md)",fontSize:"0.875rem",display:"flex",alignItems:"flex-start",gap:8},children:[e.jsx("span",{style:{color:"var(--color-primary)",fontWeight:600,fontSize:"0.8rem"},children:s+1}),t]},s))})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20},children:[e.jsxs("div",{style:{padding:20,background:"var(--color-danger-light)",borderRadius:"var(--radius-md)"},children:[e.jsxs("h4",{style:{fontSize:"0.9rem",fontWeight:600,marginBottom:12,display:"flex",alignItems:"center",gap:8,color:"var(--color-danger)"},children:[e.jsx(E,{size:16}),"리스크 요인"]}),e.jsx("ul",{style:{margin:0,paddingLeft:20},children:(r.risks||[]).map((t,s)=>e.jsx("li",{style:{marginBottom:8,fontSize:"0.875rem",color:"var(--color-text-secondary)"},children:t},s))})]}),e.jsxs("div",{style:{padding:20,background:"var(--color-success-light)",borderRadius:"var(--radius-md)"},children:[e.jsxs("h4",{style:{fontSize:"0.9rem",fontWeight:600,marginBottom:12,display:"flex",alignItems:"center",gap:8,color:"var(--color-success)"},children:[e.jsx(H,{size:16}),"기회 요인"]}),e.jsx("ul",{style:{margin:0,paddingLeft:20},children:(r.opportunities||[]).map((t,s)=>e.jsx("li",{style:{marginBottom:8,fontSize:"0.875rem",color:"var(--color-text-secondary)"},children:t},s))})]})]}),r.raw&&r.isAI&&e.jsxs("details",{style:{marginTop:20},children:[e.jsx("summary",{style:{cursor:"pointer",fontSize:"0.8rem",color:"var(--color-text-tertiary)"},children:"원본 AI 응답 보기"}),e.jsx("pre",{style:{marginTop:12,padding:16,background:"var(--color-bg-tertiary)",borderRadius:"var(--radius-md)",fontSize:"0.75rem",whiteSpace:"pre-wrap",color:"var(--color-text-secondary)"},children:r.raw})]})]}),e.jsxs("div",{style:{padding:16,background:"var(--color-bg-tertiary)",borderRadius:"var(--radius-md)",display:"flex",alignItems:"flex-start",gap:12},children:[e.jsx(y,{size:18,style:{color:"var(--color-warning)",flexShrink:0,marginTop:2}}),e.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-tertiary)",lineHeight:1.6},children:[e.jsx("strong",{children:"면책 조항:"})," 이 분석은 ",r!=null&&r.isAI?"AI":"데이터 기반 알고리즘","를 통해 생성되었으며, 투자 조언을 구성하지 않습니다. 모든 투자 결정은 본인의 판단과 책임 하에 이루어져야 합니다."]})]}),e.jsx("style",{children:`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        .spin {
          animation: spin 1s linear infinite;
        }
      `})]})};export{J as default};
//# sourceMappingURL=AIInsights-BsV8s7M4.js.map
