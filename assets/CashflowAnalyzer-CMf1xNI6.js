import{r as i,j as e,T as U,D as q,C as H,i as N}from"./index-BYBhPLOX.js";import{C as I}from"./ChartContainer-CIxEBRRg.js";import{S as f}from"./StatCard-Bnuh3uI2.js";import{f as y,b as M,c as J}from"./formatters-UyfiUF7z.js";import{T as O}from"./trending-down-BaR_FbPx.js";import{P as Q}from"./piggy-bank-C-QXPtj_.js";import{P as D}from"./plus-CjBnM4MQ.js";import{R as T,C as A,X as R,Y as E,T as F,L as K,b as W,B as $}from"./generateCategoricalChart-DhUO3NK-.js";import{B as V}from"./BarChart-CyO7VQN2.js";import{A as Z}from"./AreaChart-B6-uPhhY.js";import{A as Y}from"./Area-D0doveRy.js";import"./download-CZ7FYZO4.js";const _=i.memo(()=>{const[g,j]=i.useState([{id:1,name:"월세 수입",amount:150,type:"monthly"},{id:2,name:"관리비 수익",amount:10,type:"monthly"}]),[m,v]=i.useState([{id:1,name:"대출 이자",amount:80,type:"monthly"},{id:2,name:"관리비",amount:20,type:"monthly"},{id:3,name:"재산세",amount:120,type:"yearly"},{id:4,name:"종합부동산세",amount:0,type:"yearly"},{id:5,name:"수선유지비",amount:50,type:"yearly"},{id:6,name:"공실 손실",amount:15,type:"monthly"}]),[u,P]=i.useState("neutral"),[C,ee]=i.useState(10),[c,L]=i.useState(3e4),b={optimistic:{income:1.1,expense:.9,growth:1.03},neutral:{income:1,expense:1,growth:1.02},pessimistic:{income:.85,expense:1.15,growth:1.01}},a=i.useMemo(()=>{const t=b[u],n=g.reduce((o,r)=>{const l=r.type==="monthly"?r.amount:r.amount/12;return o+l*t.income},0),s=m.reduce((o,r)=>{const l=r.type==="monthly"?r.amount:r.amount/12;return o+l*t.expense},0);return{income:Math.round(n),expense:Math.round(s),net:Math.round(n-s)}},[g,m,u]),X=i.useMemo(()=>{const t=b[u],n=[];let s=-c;for(let o=1;o<=C;o++){const r=Math.pow(t.growth,o-1),l=a.income*12*r,d=a.expense*12*r,p=l-d;s+=p,n.push({year:o,income:Math.round(l),expense:Math.round(d),net:Math.round(p),cumulative:Math.round(s)})}return n},[a,C,u,c]),G=i.useMemo(()=>{const t=[];return["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"].forEach((s,o)=>{var p,w,B;let r=0;o===5&&(r=((p=m.find(h=>h.name==="재산세"))==null?void 0:p.amount)/2||0),o===8&&(r=((w=m.find(h=>h.name==="재산세"))==null?void 0:w.amount)/2||0),o===11&&(r=((B=m.find(h=>h.name==="종합부동산세"))==null?void 0:B.amount)||0);const l=a.income,d=a.expense+r;t.push({month:s,income:l,expense:d,net:l-d})}),t},[a,m]),S=i.useMemo(()=>{if(c<=0)return 0;let t=0;for(let n=1;n<=50;n++){const s=b[u],o=Math.pow(s.growth,n-1);if(t+=a.net*12*o,t>=c)return n}return null},[a,u,c]),k=i.useCallback(t=>{t==="income"?j(n=>[...n,{id:Date.now(),name:"새 수입",amount:0,type:"monthly"}]):v(n=>[...n,{id:Date.now(),name:"새 지출",amount:0,type:"monthly"}])},[]),z=i.useCallback((t,n)=>{t==="income"?j(s=>s.filter(o=>o.id!==n)):v(s=>s.filter(o=>o.id!==n))},[]),x=i.useCallback((t,n,s,o)=>{(t==="income"?j:v)(l=>l.map(d=>d.id===n?{...d,[s]:s==="amount"?Number(o):o}:d))},[]);return e.jsxs("div",{className:"page-container",children:[e.jsxs("div",{className:"grid-stats",style:{marginBottom:24},children:[e.jsx(f,{title:"월 순수익",value:y(a.net),suffix:"만원",subtitle:"수입 - 지출",icon:a.net>=0?U:O,iconColor:a.net>=0?"#10b981":"#ef4444",iconBg:a.net>=0?"#d1fae5":"#fee2e2"}),e.jsx(f,{title:"연간 순수익",value:y(a.net*12),suffix:"만원",subtitle:"월 순수익 × 12",icon:q,iconColor:"#6366f1",iconBg:"var(--color-primary-light)"}),e.jsx(f,{title:"현금수익률",value:c>0?(a.net*12/c*100).toFixed(1):"∞",suffix:"%",subtitle:`연간 (투자금 ${M(c*1e4)})`,icon:Q,iconColor:"#f59e0b",iconBg:"#fef3c7"}),e.jsx(f,{title:"손익분기점",value:S||"50+",suffix:S?"년":"",subtitle:"초기투자금 회수",icon:H,iconColor:"#8b5cf6",iconBg:"#ede9fe"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"350px 1fr",gap:24},children:[e.jsxs("div",{children:[e.jsxs("div",{className:"card",style:{marginBottom:16},children:[e.jsx("h3",{style:{fontSize:"0.95rem",fontWeight:600,marginBottom:12},children:"투자금 설정 (단위: 만원)"}),e.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[e.jsx("label",{style:{fontSize:"0.85rem"},children:"초기 투자금"}),e.jsx("input",{type:"number",value:c,onChange:t=>L(Number(t.target.value)),style:{width:"100%"}}),e.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-tertiary)",marginTop:4},children:["= ",M(c*1e4),"원"]})]})]}),e.jsxs("div",{className:"card",style:{marginBottom:16},children:[e.jsx("h3",{style:{fontSize:"0.95rem",fontWeight:600,marginBottom:12},children:"시나리오"}),e.jsx("div",{style:{display:"flex",gap:8},children:["optimistic","neutral","pessimistic"].map(t=>e.jsx("button",{onClick:()=>P(t),className:`btn ${u===t?"btn-primary":"btn-ghost"}`,style:{flex:1,fontSize:"0.8rem"},children:t==="optimistic"?"낙관":t==="neutral"?"중립":"비관"},t))})]}),e.jsxs("div",{className:"card",style:{marginBottom:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[e.jsx("h3",{style:{fontSize:"0.95rem",fontWeight:600,color:"var(--color-success)"},children:"수입 항목"}),e.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>k("income"),children:e.jsx(D,{size:16})})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:g.map(t=>e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx("input",{type:"text",value:t.name,onChange:n=>x("income",t.id,"name",n.target.value),style:{flex:1,fontSize:"0.85rem"}}),e.jsx("input",{type:"number",value:t.amount,onChange:n=>x("income",t.id,"amount",n.target.value),style:{width:80,fontSize:"0.85rem"}}),e.jsxs("select",{value:t.type,onChange:n=>x("income",t.id,"type",n.target.value),style:{fontSize:"0.8rem",padding:"6px"},children:[e.jsx("option",{value:"monthly",children:"월"}),e.jsx("option",{value:"yearly",children:"년"})]}),e.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>z("income",t.id),style:{color:"var(--color-danger)",padding:4},children:e.jsx(N,{size:14})})]},t.id))}),e.jsxs("div",{style:{marginTop:12,padding:"8px 12px",background:"var(--color-success-light)",borderRadius:"var(--radius-sm)",textAlign:"right"},children:[e.jsx("span",{style:{fontSize:"0.8rem",color:"var(--color-text-secondary)"},children:"월 합계: "}),e.jsxs("span",{style:{fontWeight:600,color:"var(--color-success)"},children:[y(a.income),"만원"]})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[e.jsx("h3",{style:{fontSize:"0.95rem",fontWeight:600,color:"var(--color-danger)"},children:"지출 항목"}),e.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>k("expense"),children:e.jsx(D,{size:16})})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:m.map(t=>e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx("input",{type:"text",value:t.name,onChange:n=>x("expense",t.id,"name",n.target.value),style:{flex:1,fontSize:"0.85rem"}}),e.jsx("input",{type:"number",value:t.amount,onChange:n=>x("expense",t.id,"amount",n.target.value),style:{width:80,fontSize:"0.85rem"}}),e.jsxs("select",{value:t.type,onChange:n=>x("expense",t.id,"type",n.target.value),style:{fontSize:"0.8rem",padding:"6px"},children:[e.jsx("option",{value:"monthly",children:"월"}),e.jsx("option",{value:"yearly",children:"년"})]}),e.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>z("expense",t.id),style:{color:"var(--color-danger)",padding:4},children:e.jsx(N,{size:14})})]},t.id))}),e.jsxs("div",{style:{marginTop:12,padding:"8px 12px",background:"var(--color-danger-light)",borderRadius:"var(--radius-sm)",textAlign:"right"},children:[e.jsx("span",{style:{fontSize:"0.8rem",color:"var(--color-text-secondary)"},children:"월 합계: "}),e.jsxs("span",{style:{fontWeight:600,color:"var(--color-danger)"},children:[y(a.expense),"만원"]})]})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:24},children:[e.jsx(I,{title:"월별 현금흐름 (1년)",height:250,children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(V,{data:G,children:[e.jsx(A,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),e.jsx(R,{dataKey:"month",tick:{fontSize:11}}),e.jsx(E,{tick:{fontSize:11},tickFormatter:t=>`${t}만`}),e.jsx(F,{contentStyle:{background:"var(--color-bg-secondary)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)"},formatter:t=>[`${y(t)}만원`]}),e.jsx(K,{}),e.jsx(W,{y:0,stroke:"var(--color-text-tertiary)"}),e.jsx($,{dataKey:"income",name:"수입",fill:"#10b981",radius:[4,4,0,0]}),e.jsx($,{dataKey:"expense",name:"지출",fill:"#ef4444",radius:[4,4,0,0]})]})})}),e.jsx(I,{title:"연간 누적 현금흐름",height:300,children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(Z,{data:X,children:[e.jsx(A,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),e.jsx(R,{dataKey:"year",tick:{fontSize:11},tickFormatter:t=>`${t}년`}),e.jsx(E,{tick:{fontSize:11},tickFormatter:t=>`${(t/1e4).toFixed(1)}억`}),e.jsx(F,{contentStyle:{background:"var(--color-bg-secondary)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)"},formatter:t=>[J(t)]}),e.jsx(K,{}),e.jsx(W,{y:0,stroke:"var(--color-text-tertiary)"}),e.jsx(Y,{type:"monotone",dataKey:"cumulative",name:"누적 현금흐름",stroke:"#6366f1",fill:"#6366f120"}),e.jsx(Y,{type:"monotone",dataKey:"net",name:"연간 순수익",stroke:"#10b981",fill:"#10b98120"})]})})})]})]}),e.jsx("div",{style:{marginTop:24,padding:16,background:"var(--color-bg-tertiary)",borderRadius:"var(--radius-md)",fontSize:"0.8rem",color:"var(--color-text-tertiary)"},children:"⚠️ 본 분석은 참고용이며, 실제 수익과 다를 수 있습니다. 세금 및 비용은 간소화되어 있으며, 정확한 분석은 전문가와 상담하세요."})]})});_.displayName="CashflowAnalyzer";export{_ as default};
//# sourceMappingURL=CashflowAnalyzer-CMf1xNI6.js.map
