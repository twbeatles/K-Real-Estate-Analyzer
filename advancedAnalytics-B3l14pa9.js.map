{"version":3,"file":"advancedAnalytics-B3l14pa9.js","sources":["../../src/data/advancedAnalytics.js"],"sourcesContent":["/**\r\n * 고급 분석 데이터 생성기\r\n * 부동산-거시경제 연관성 분석을 위한 확장 데이터\r\n */\r\n\r\n// 피어슨 상관계수 계산\r\nexport const calculateCorrelation = (x, y) => {\r\n    const n = Math.min(x.length, y.length);\r\n    if (n === 0) return 0;\r\n\r\n    let sumX = 0, sumY = 0, sumXY = 0, sumX2 = 0, sumY2 = 0;\r\n\r\n    for (let i = 0; i < n; i++) {\r\n        sumX += x[i];\r\n        sumY += y[i];\r\n        sumXY += x[i] * y[i];\r\n        sumX2 += x[i] * x[i];\r\n        sumY2 += y[i] * y[i];\r\n    }\r\n\r\n    const numerator = n * sumXY - sumX * sumY;\r\n    const denominator = Math.sqrt((n * sumX2 - sumX * sumX) * (n * sumY2 - sumY * sumY));\r\n\r\n    return denominator === 0 ? 0 : numerator / denominator;\r\n};\r\n\r\n// 시차(Lag) 상관관계 계산\r\nexport const calculateLaggedCorrelation = (x, y, maxLag = 12) => {\r\n    const results = [];\r\n\r\n    for (let lag = -maxLag; lag <= maxLag; lag++) {\r\n        let xData, yData;\r\n\r\n        if (lag >= 0) {\r\n            xData = x.slice(0, x.length - lag);\r\n            yData = y.slice(lag);\r\n        } else {\r\n            xData = x.slice(-lag);\r\n            yData = y.slice(0, y.length + lag);\r\n        }\r\n\r\n        results.push({\r\n            lag,\r\n            correlation: calculateCorrelation(xData, yData),\r\n        });\r\n    }\r\n\r\n    return results;\r\n};\r\n\r\n// PIR (Price to Income Ratio) 데이터 생성\r\nexport const generatePIRData = () => {\r\n    const data = [];\r\n    const baseIncomes = {\r\n        2000: 2500, 2005: 3000, 2010: 3500, 2015: 4200,\r\n        2020: 5100, 2021: 5300, 2022: 5500, 2023: 5700,\r\n        2024: 5900, 2025: 6100,\r\n    };\r\n\r\n    const basePrices = {\r\n        seoul: { 2000: 18000, 2021: 120000, 2022: 110000, 2023: 105000, 2024: 110000, 2025: 115000 },\r\n        nation: { 2000: 10000, 2021: 50000, 2022: 48000, 2023: 46000, 2024: 48000, 2025: 50000 },\r\n    };\r\n\r\n    for (let year = 2000; year <= 2025; year++) {\r\n        const income = baseIncomes[year] || baseIncomes[2000] + (year - 2000) * 150;\r\n        const seoulPrice = basePrices.seoul[year] || 18000 + (year - 2000) * 4000;\r\n        const nationPrice = basePrices.nation[year] || 10000 + (year - 2000) * 1600;\r\n\r\n        data.push({\r\n            year,\r\n            income,\r\n            seoulPrice,\r\n            nationPrice,\r\n            seoulPIR: parseFloat((seoulPrice / income).toFixed(1)),\r\n            nationPIR: parseFloat((nationPrice / income).toFixed(1)),\r\n        });\r\n    }\r\n\r\n    return data;\r\n};\r\n\r\n// 전세가율 데이터 생성\r\nexport const generateJeonseRatioData = () => {\r\n    const data = [];\r\n\r\n    // 역사적 전세가율 패턴\r\n    const baseRatios = {\r\n        2000: { seoul: 65, nation: 70 },\r\n        2010: { seoul: 55, nation: 62 },\r\n        2015: { seoul: 75, nation: 72 },\r\n        2019: { seoul: 52, nation: 58 },\r\n        2021: { seoul: 48, nation: 55 },\r\n        2022: { seoul: 55, nation: 60 },\r\n        2023: { seoul: 58, nation: 62 },\r\n        2024: { seoul: 60, nation: 64 },\r\n        2025: { seoul: 62, nation: 66 },\r\n    };\r\n\r\n    for (let year = 2015; year <= 2025; year++) {\r\n        for (let month = 1; month <= 12; month++) {\r\n            if (year === 2025 && month > 12) break;\r\n\r\n            const baseYear = Object.keys(baseRatios)\r\n                .map(Number)\r\n                .filter(y => y <= year)\r\n                .sort((a, b) => b - a)[0];\r\n\r\n            const base = baseRatios[baseYear];\r\n            const noise = (Math.random() - 0.5) * 3;\r\n\r\n            data.push({\r\n                date: `${year}.${String(month).padStart(2, '0')}`,\r\n                year,\r\n                month,\r\n                seoul: parseFloat((base.seoul + noise).toFixed(1)),\r\n                nation: parseFloat((base.nation + noise).toFixed(1)),\r\n                gyeonggi: parseFloat((base.seoul * 1.05 + noise).toFixed(1)),\r\n            });\r\n        }\r\n    }\r\n\r\n    return data;\r\n};\r\n\r\n// 수급 데이터 (입주물량, 인허가, 미분양) - 2026년 1월 기준\r\nexport const generateSupplyDemandData = () => {\r\n    const data = [];\r\n\r\n    const baseSupply = {\r\n        2015: { newConstruction: 380, permits: 420, unsold: 45 },\r\n        2016: { newConstruction: 400, permits: 450, unsold: 40 },\r\n        2017: { newConstruction: 420, permits: 480, unsold: 35 },\r\n        2018: { newConstruction: 450, permits: 520, unsold: 30 },\r\n        2019: { newConstruction: 380, permits: 400, unsold: 40 },\r\n        2020: { newConstruction: 350, permits: 380, unsold: 35 },\r\n        2021: { newConstruction: 320, permits: 350, unsold: 25 },\r\n        2022: { newConstruction: 380, permits: 320, unsold: 55 },\r\n        2023: { newConstruction: 420, permits: 280, unsold: 70 },\r\n        2024: { newConstruction: 380, permits: 260, unsold: 65 },\r\n        2025: { newConstruction: 470, permits: 200, unsold: 55 }, // 서울 47,000호 입주\r\n        2026: { newConstruction: 240, permits: 220, unsold: 50 }, // 서울 24,000호 입주 (공급 절벽)\r\n    };\r\n\r\n    for (let year = 2015; year <= 2026; year++) {\r\n        const base = baseSupply[year] || baseSupply[2015];\r\n        data.push({\r\n            year,\r\n            newConstruction: base.newConstruction + Math.round((Math.random() - 0.5) * 20),\r\n            permits: base.permits + Math.round((Math.random() - 0.5) * 30),\r\n            unsold: base.unsold + Math.round((Math.random() - 0.5) * 5),\r\n            // 천 단위\r\n            newConstructionLabel: `${base.newConstruction}천호`,\r\n            permitsLabel: `${base.permits}천호`,\r\n            unsoldLabel: `${base.unsold}천호`,\r\n        });\r\n    }\r\n\r\n    return data;\r\n};\r\n\r\n// 실질금리 데이터 (명목금리 - 인플레이션) - 2026년 1월 기준\r\nexport const generateRealInterestRateData = () => {\r\n    const data = [];\r\n\r\n    const nominalRates = {\r\n        2015: 1.50, 2016: 1.25, 2017: 1.25, 2018: 1.75,\r\n        2019: 1.25, 2020: 0.50, 2021: 1.00, 2022: 3.25,\r\n        2023: 3.50, 2024: 3.00, 2025: 2.50, 2026: 2.50 // 2025년 5월~2026년 2.5%\r\n    };\r\n\r\n    const inflationRates = {\r\n        2015: 0.7, 2016: 1.0, 2017: 1.9, 2018: 1.5,\r\n        2019: 0.4, 2020: 0.5, 2021: 2.5, 2022: 5.1,\r\n        2023: 3.6, 2024: 2.5, 2025: 2.1, 2026: 2.0 // 2025년 2.1%, 2026년 2.0% 전망\r\n    };\r\n\r\n    for (let year = 2015; year <= 2026; year++) {\r\n        const nominal = nominalRates[year];\r\n        const inflation = inflationRates[year];\r\n\r\n        data.push({\r\n            year,\r\n            nominal,\r\n            inflation,\r\n            real: parseFloat((nominal - inflation).toFixed(2)),\r\n        });\r\n    }\r\n\r\n    return data;\r\n};\r\n\r\n// 유동성 지표 (M2/GDP, 가계부채/GDP)\r\nexport const generateLiquidityIndicators = () => {\r\n    const data = [];\r\n\r\n    for (let year = 2010; year <= 2025; year++) {\r\n        // M2/GDP 비율 (실제 추세 반영)\r\n        let m2GdpRatio = 120 + (year - 2010) * 5;\r\n        if (year >= 2020) m2GdpRatio += 15; // 코로나 유동성 공급\r\n        if (year >= 2022) m2GdpRatio -= 5; // 긴축\r\n\r\n        // 가계부채/GDP 비율\r\n        let householdDebtRatio = 75 + (year - 2010) * 3;\r\n        if (year >= 2021) householdDebtRatio += 5;\r\n\r\n        data.push({\r\n            year,\r\n            m2GdpRatio: parseFloat((m2GdpRatio + (Math.random() - 0.5) * 3).toFixed(1)),\r\n            householdDebtRatio: parseFloat((householdDebtRatio + (Math.random() - 0.5) * 2).toFixed(1)),\r\n        });\r\n    }\r\n\r\n    return data;\r\n};\r\n\r\n// 글로벌 비교 데이터 - 2026년 기준\r\nexport const generateGlobalComparisonData = () => {\r\n    const data = [];\r\n\r\n    const baseData = {\r\n        korea: { rate2020: 0.5, rate2026: 2.5, hpi2020: 100, hpi2026: 125 }, // 서울 2025년 8.7% 상승 반영\r\n        usa: { rate2020: 0.25, rate2026: 4.25, hpi2020: 100, hpi2026: 120 },\r\n        japan: { rate2020: -0.1, rate2026: 0.25, hpi2020: 100, hpi2026: 115 },\r\n        china: { rate2020: 3.85, rate2026: 3.0, hpi2020: 100, hpi2026: 90 }, // 중국 하락\r\n    };\r\n\r\n    for (let year = 2020; year <= 2026; year++) {\r\n        const progress = (year - 2020) / 6;\r\n\r\n        data.push({\r\n            year,\r\n            korea: {\r\n                rate: parseFloat((baseData.korea.rate2020 + (baseData.korea.rate2026 - baseData.korea.rate2020) * progress).toFixed(2)),\r\n                hpi: parseFloat((baseData.korea.hpi2020 + (baseData.korea.hpi2026 - baseData.korea.hpi2020) * progress).toFixed(1)),\r\n            },\r\n            usa: {\r\n                rate: parseFloat((baseData.usa.rate2020 + (baseData.usa.rate2026 - baseData.usa.rate2020) * progress).toFixed(2)),\r\n                hpi: parseFloat((baseData.usa.hpi2020 + (baseData.usa.hpi2026 - baseData.usa.hpi2020) * progress).toFixed(1)),\r\n            },\r\n            japan: {\r\n                rate: parseFloat((baseData.japan.rate2020 + (baseData.japan.rate2026 - baseData.japan.rate2020) * progress).toFixed(2)),\r\n                hpi: parseFloat((baseData.japan.hpi2020 + (baseData.japan.hpi2026 - baseData.japan.hpi2020) * progress).toFixed(1)),\r\n            },\r\n            china: {\r\n                rate: parseFloat((baseData.china.rate2020 + (baseData.china.rate2026 - baseData.china.rate2020) * progress).toFixed(2)),\r\n                hpi: parseFloat((baseData.china.hpi2020 + (baseData.china.hpi2026 - baseData.china.hpi2020) * progress).toFixed(1)),\r\n            },\r\n        });\r\n    }\r\n\r\n    return data;\r\n};\r\n\r\n// 정책 규제 데이터 (LTV, DTI, DSR)\r\nexport const generatePolicyData = () => {\r\n    return [\r\n        { year: 2014, ltv: 70, dti: 60, dsr: null, description: '규제 완화' },\r\n        { year: 2016, ltv: 70, dti: 60, dsr: null, description: 'LTV/DTI 유지' },\r\n        { year: 2017, ltv: 60, dti: 50, dsr: null, description: '8.2 대책 (투기과열지구)' },\r\n        { year: 2018, ltv: 40, dti: 40, dsr: 40, description: '9.13 대책' },\r\n        { year: 2019, ltv: 40, dti: 40, dsr: 40, description: '12.16 대책' },\r\n        { year: 2020, ltv: 40, dti: 40, dsr: 40, description: '6.17/7.10 대책' },\r\n        { year: 2021, ltv: 40, dti: 40, dsr: 40, description: '규제 유지' },\r\n        { year: 2022, ltv: 50, dti: 50, dsr: 40, description: '규제 완화 시작' },\r\n        { year: 2023, ltv: 50, dti: 50, dsr: 40, description: '규제 완화' },\r\n        { year: 2024, ltv: 70, dti: 60, dsr: 40, description: '대폭 완화' },\r\n        { year: 2025, ltv: 70, dti: 60, dsr: 40, description: '완화 기조 유지' },\r\n        { year: 2026, ltv: 70, dti: 60, dsr: 40, description: '2026년 현행' },\r\n    ];\r\n};\r\n\r\n// 사이클 분석 데이터\r\nexport const analyzeCycle = (hpiData) => {\r\n    const recent = hpiData.slice(-24); // 최근 2년\r\n    const older = hpiData.slice(-48, -24); // 그 이전 2년\r\n\r\n    const recentAvg = recent.reduce((sum, d) => sum + d.hpiSeoul, 0) / recent.length;\r\n    const olderAvg = older.reduce((sum, d) => sum + d.hpiSeoul, 0) / older.length;\r\n\r\n    const momentum = ((recentAvg - olderAvg) / olderAvg) * 100;\r\n    const volatility = calculateVolatility(recent.map(d => d.hpiSeoul));\r\n\r\n    let phase, description, outlook;\r\n\r\n    if (momentum > 5) {\r\n        phase = '상승기';\r\n        description = '가격 상승세가 지속되고 있습니다.';\r\n        outlook = '과열 전환 가능성 모니터링 필요';\r\n    } else if (momentum > 0) {\r\n        phase = '회복기';\r\n        description = '시장이 바닥을 찍고 회복 중입니다.';\r\n        outlook = '상승 전환 조짐';\r\n    } else if (momentum > -5) {\r\n        phase = '조정기';\r\n        description = '소폭 하락 또는 보합세입니다.';\r\n        outlook = '저가 매수 기회 탐색';\r\n    } else {\r\n        phase = '하락기';\r\n        description = '가격 하락이 진행 중입니다.';\r\n        outlook = '바닥 확인 후 진입 검토';\r\n    }\r\n\r\n    return {\r\n        phase,\r\n        description,\r\n        outlook,\r\n        momentum: parseFloat(momentum.toFixed(2)),\r\n        volatility: parseFloat(volatility.toFixed(2)),\r\n        recentTrend: recent[recent.length - 1].hpiSeoul > recent[0].hpiSeoul ? 'up' : 'down',\r\n    };\r\n};\r\n\r\n// 변동성 계산\r\nconst calculateVolatility = (values) => {\r\n    const mean = values.reduce((sum, v) => sum + v, 0) / values.length;\r\n    const squaredDiffs = values.map(v => Math.pow(v - mean, 2));\r\n    const variance = squaredDiffs.reduce((sum, v) => sum + v, 0) / values.length;\r\n    return Math.sqrt(variance);\r\n};\r\n\r\n// 선행지표 종합 데이터\r\nexport const generateLeadingIndicators = () => {\r\n    const data = [];\r\n\r\n    for (let year = 2020; year <= 2026; year++) {\r\n        for (let quarter = 1; quarter <= 4; quarter++) {\r\n            if (year === 2026 && quarter > 1) break;\r\n\r\n            // 건설 허가 (선행 6-12개월)\r\n            let permits = 80 + (Math.random() - 0.5) * 20;\r\n            if (year >= 2022) permits -= 15;\r\n            if (year >= 2024) permits += 10;\r\n\r\n            // 거래량 (선행 3-6개월)\r\n            let transactions = 70 + (Math.random() - 0.5) * 15;\r\n            if (year === 2022) transactions -= 30;\r\n            if (year >= 2024) transactions += 15;\r\n\r\n            // 미분양 (역행 지표)\r\n            let unsold = 30 + (Math.random() - 0.5) * 10;\r\n            if (year >= 2022) unsold += 25;\r\n            if (year >= 2024) unsold -= 10;\r\n\r\n            data.push({\r\n                period: `${year} Q${quarter}`,\r\n                year,\r\n                quarter,\r\n                permits: Math.max(0, permits),\r\n                transactions: Math.max(0, transactions),\r\n                unsold: Math.max(0, unsold),\r\n                sentiment: parseFloat((50 + (Math.random() - 0.5) * 30).toFixed(1)), // 심리지수\r\n            });\r\n        }\r\n    }\r\n\r\n    return data;\r\n};\r\n\r\n// 버블 지수 계산\r\nexport const calculateBubbleIndex = (pirData, jeonseRatioData, transactionData) => {\r\n    const latestPIR = pirData[pirData.length - 1];\r\n    const avgPIR = pirData.reduce((sum, d) => sum + d.seoulPIR, 0) / pirData.length;\r\n\r\n    const latestJeonse = jeonseRatioData[jeonseRatioData.length - 1];\r\n    const avgJeonse = jeonseRatioData.reduce((sum, d) => sum + d.seoul, 0) / jeonseRatioData.length;\r\n\r\n    // PIR 과열도 (0-100)\r\n    const pirScore = Math.min(100, Math.max(0, ((latestPIR.seoulPIR / avgPIR) - 0.8) * 250));\r\n\r\n    // 전세가율 과열도 (낮을수록 과열)\r\n    const jeonseScore = Math.min(100, Math.max(0, (1 - latestJeonse.seoul / avgJeonse) * 200 + 50));\r\n\r\n    // 종합 버블 지수\r\n    const bubbleIndex = (pirScore * 0.6 + jeonseScore * 0.4);\r\n\r\n    let riskLevel, description;\r\n\r\n    if (bubbleIndex < 30) {\r\n        riskLevel = '저위험';\r\n        description = '시장이 저평가 또는 정상 범위입니다.';\r\n    } else if (bubbleIndex < 50) {\r\n        riskLevel = '보통';\r\n        description = '시장이 적정 수준입니다.';\r\n    } else if (bubbleIndex < 70) {\r\n        riskLevel = '주의';\r\n        description = '과열 조짐이 있습니다.';\r\n    } else {\r\n        riskLevel = '위험';\r\n        description = '버블 가능성이 높습니다.';\r\n    }\r\n\r\n    return {\r\n        bubbleIndex: parseFloat(bubbleIndex.toFixed(1)),\r\n        pirScore: parseFloat(pirScore.toFixed(1)),\r\n        jeonseScore: parseFloat(jeonseScore.toFixed(1)),\r\n        riskLevel,\r\n        description,\r\n    };\r\n};\r\n\r\n// 시나리오 시뮬레이션\r\nexport const simulateScenario = (baseHPI, rateChange, m2Change, gdpChange, years = 5) => {\r\n    const results = [];\r\n    let hpi = baseHPI;\r\n\r\n    // 회귀계수 (역사적 데이터 기반 추정)\r\n    const rateCoeff = -3.5;  // 금리 1%p 상승 → HPI 3.5% 하락\r\n    const m2Coeff = 0.8;     // M2 1% 증가 → HPI 0.8% 상승\r\n    const gdpCoeff = 1.2;    // GDP 1% 성장 → HPI 1.2% 상승\r\n\r\n    for (let year = 1; year <= years; year++) {\r\n        const rateEffect = rateChange * rateCoeff;\r\n        const m2Effect = m2Change * m2Coeff;\r\n        const gdpEffect = gdpChange * gdpCoeff;\r\n\r\n        const totalEffect = rateEffect + m2Effect + gdpEffect;\r\n        const yearlyChange = totalEffect / years;\r\n\r\n        hpi = hpi * (1 + yearlyChange / 100);\r\n\r\n        results.push({\r\n            year,\r\n            hpi: parseFloat(hpi.toFixed(1)),\r\n            change: parseFloat(yearlyChange.toFixed(2)),\r\n            cumulative: parseFloat(((hpi / baseHPI - 1) * 100).toFixed(2)),\r\n        });\r\n    }\r\n\r\n    return results;\r\n};\r\n\r\n// 회귀분석 (단순 선형 회귀)\r\nexport const linearRegression = (x, y) => {\r\n    const n = x.length;\r\n    let sumX = 0, sumY = 0, sumXY = 0, sumX2 = 0;\r\n\r\n    for (let i = 0; i < n; i++) {\r\n        sumX += x[i];\r\n        sumY += y[i];\r\n        sumXY += x[i] * y[i];\r\n        sumX2 += x[i] * x[i];\r\n    }\r\n\r\n    const slope = (n * sumXY - sumX * sumY) / (n * sumX2 - sumX * sumX);\r\n    const intercept = (sumY - slope * sumX) / n;\r\n\r\n    // R² 계산\r\n    const yMean = sumY / n;\r\n    let ssRes = 0, ssTot = 0;\r\n\r\n    for (let i = 0; i < n; i++) {\r\n        const predicted = slope * x[i] + intercept;\r\n        ssRes += Math.pow(y[i] - predicted, 2);\r\n        ssTot += Math.pow(y[i] - yMean, 2);\r\n    }\r\n\r\n    const rSquared = 1 - ssRes / ssTot;\r\n\r\n    return {\r\n        slope: parseFloat(slope.toFixed(4)),\r\n        intercept: parseFloat(intercept.toFixed(4)),\r\n        rSquared: parseFloat(rSquared.toFixed(4)),\r\n    };\r\n};\r\n\r\nexport default {\r\n    calculateCorrelation,\r\n    calculateLaggedCorrelation,\r\n    generatePIRData,\r\n    generateJeonseRatioData,\r\n    generateSupplyDemandData,\r\n    generateRealInterestRateData,\r\n    generateLiquidityIndicators,\r\n    generateGlobalComparisonData,\r\n    generatePolicyData,\r\n    analyzeCycle,\r\n    generateLeadingIndicators,\r\n    calculateBubbleIndex,\r\n    simulateScenario,\r\n    linearRegression,\r\n};\r\n"],"names":["calculateCorrelation","x","y","n","sumX","sumY","sumXY","sumX2","sumY2","i","numerator","denominator","calculateLaggedCorrelation","maxLag","results","lag","xData","yData","generatePIRData","data","baseIncomes","basePrices","year","income","seoulPrice","nationPrice","generateJeonseRatioData","baseRatios","month","baseYear","a","b","base","noise","generateSupplyDemandData","baseSupply","generateRealInterestRateData","nominalRates","inflationRates","nominal","inflation","generateLiquidityIndicators","m2GdpRatio","householdDebtRatio","generateGlobalComparisonData","baseData","progress","generatePolicyData","analyzeCycle","hpiData","recent","older","recentAvg","sum","d","olderAvg","momentum","volatility","calculateVolatility","phase","description","outlook","values","mean","v","variance","generateLeadingIndicators","quarter","permits","transactions","unsold","calculateBubbleIndex","pirData","jeonseRatioData","transactionData","latestPIR","avgPIR","latestJeonse","avgJeonse","pirScore","jeonseScore","bubbleIndex","riskLevel","simulateScenario","baseHPI","rateChange","m2Change","gdpChange","years","hpi","rateCoeff","m2Coeff","gdpCoeff","rateEffect","m2Effect","gdpEffect","yearlyChange","linearRegression","slope","intercept","yMean","ssRes","ssTot","predicted","rSquared"],"mappings":"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"}